(this["webpackJsonpasian-legacy-library"]=this["webpackJsonpasian-legacy-library"]||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var l=a(1),c=a.n(l),n=a(21),s=a.n(n),r=a(6),i=a(2),o=a(37),d=a(5),u=a.n(d),b=a(11),m=a(0),g=Object(l.createContext)();var p=function(e){var t=e.children,a=Object(l.useState)(!1),c=Object(i.a)(a,2),n=c[0],s=c[1],r=Object(l.useState)([]),o=Object(i.a)(r,2),d=o[0],p=o[1],x=Object(l.useState)([]),j=Object(i.a)(x,2),h=j[0],v=j[1],f=Object(l.useState)(!1),y=Object(i.a)(f,2),O=y[0],w=y[1],N=Object(l.useState)(""),k=Object(i.a)(N,2),S=k[0],_=k[1],C=Object(l.useState)([]),F=Object(i.a)(C,2),T=F[0],L=F[1],E=Object(l.useState)(""),A=Object(i.a)(E,2),I=A[0],D=A[1],R=Object(l.useState)(-1),z=Object(i.a)(R,2),H=z[0],M=z[1],q=Object(l.useState)(""),B=Object(i.a)(q,2),P=B[0],Q=B[1],U=Object(l.useState)([]),G=Object(i.a)(U,2),V=G[0],W=G[1],$=Object(l.useState)([]),J=Object(i.a)($,2),Y=J[0],K=J[1],X=Object(l.useState)([]),Z=Object(i.a)(X,2),ee=Z[0],te=Z[1],ae=Object(l.useState)(""),le=Object(i.a)(ae,2),ce=le[0],ne=le[1],se=Object(l.useState)(""),re=Object(i.a)(se,2),ie=re[0],oe=re[1],de=Object(l.useState)(""),ue=Object(i.a)(de,2),be=ue[0],me=ue[1],ge=Object(l.useState)([]),pe=Object(i.a)(ge,2),xe=pe[0],je=pe[1],he=Object(l.useState)(""),ve=Object(i.a)(he,2),fe=ve[0],ye=ve[1],Oe=Object(l.useState)([]),we=Object(i.a)(Oe,2),Ne=we[0],ke=we[1],Se=Object(l.useState)({val:[]}),_e=Object(i.a)(Se,2),Ce=_e[0],Fe=_e[1],Te=Object(l.useState)({val:[]}),Le=Object(i.a)(Te,2),Ee=Le[0],Ae=Le[1],Ie=Object(l.useState)(!1),De=Object(i.a)(Ie,2),Re=De[0],ze=De[1],He=Object(l.useState)(""),Me=Object(i.a)(He,2),qe=Me[0],Be=Me[1],Pe=Object(l.useState)(4),Qe=Object(i.a)(Pe,2),Ue=Qe[0],Ge=Qe[1],Ve=Object(l.useState)(0),We=Object(i.a)(Ve,2),$e=We[0],Je=We[1],Ye=Object(l.useState)(1),Ke=Object(i.a)(Ye,2),Xe=Ke[0],Ze=Ke[1],et=Object(l.useState)(),tt=Object(i.a)(et,2),at=tt[0],lt=tt[1],ct=Object(l.useState)([]),nt=Object(i.a)(ct,2),st=nt[0],rt=nt[1],it=Object(l.useState)(""),ot=Object(i.a)(it,2),dt=ot[0],ut=ot[1],bt=Object(l.useState)([]),mt=Object(i.a)(bt,2),gt=mt[0],pt=mt[1],xt=Object(l.useState)([]),jt=Object(i.a)(xt,2),ht=jt[0],vt=jt[1],ft=Object(l.useState)([]),yt=Object(i.a)(ft,2),Ot=yt[0],wt=yt[1],Nt=Object(l.useState)([]),kt=Object(i.a)(Nt,2),St=kt[0],_t=kt[1];function Ct(){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(b.a)(u.a.mark((function e(){var t,a,l,c,n,r,i,o,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),!O){e.next=3;break}return e.abrupt("return");case 3:return w(!0),pt([]),M(-1),a=-1===Ce.val.indexOf("near")?"https://api.asianlegacylibrary.org/resources?q=".concat(S):"https://api.asianlegacylibrary.org/resources?q=",ze(!1),Ee.val.length>0&&Ce.val.length>0&&(-1!==Ce.val.indexOf("near")?Ce.val.forEach((function(e,t){"near"===e&&(l=",near(".concat(S,":").concat(qe,")~").concat(Ue),a+=l)})):Ce.val.forEach((function(e,t){"not"===e&&(l=",-(".concat(Ee.val[t],")"),a+=l),"or"===e&&(c=" or (".concat(Ee.val[t],")"),a+=c),"and"===e&&(n=",(".concat(Ee.val[t],")"),a+=n)})),ze(!0)),a+="&page_size=".concat(10,"&include_data=true&search_fields=").concat(I,"&page=").concat(Xe,"&highlights=true&include_aggs=author,assettype,language,source,collection_acip,collection_ramachandra"),(xe.length>0||V.length>0||Y.length>0||Ne.length>0||ce.length>0||ie.length>0||be.length>0)&&(a+="&filter="),V.length>0&&(a+=V.map((function(e){return"".concat(e)})).join(",")),Y.length>0&&(V.length>0&&(a+=","),1===Y.length&&-1!==Y.indexOf("items:exists")?a+="items:-exists":a+=Y.map((function(e){return"".concat(e)})).join(",")),xe.length>0&&((V.length>0||Y.length>0)&&(a+=","),a+="".concat(xe.map((function(e){return"author:(".concat(e,")")})).join(","))),ce&&((V.length>0||Y.length||xe.length>0)&&(a+=","),a+="source:".concat(ce)),ie&&((V.length>0||xe.length>0||Y.length||ce.length>0)&&(a+=","),a+="collection_acip:".concat(ie)),be.length>0&&((V.length>0||xe.length>0||Y.length||ce.length>0||ie.length>0)&&(a+=","),a+="collection_ramachandra:".concat(be)),Ne.length>0&&((V.length>0||xe.length>0||Y.length||ce.length>0||ie.length>0||be.length>0)&&(a+=","),a+="subjecttree".concat("en"===fe?"_eng":"",":").concat(Ne.map((function(e){return"".concat(e)})).join("/"))),""===S&&(a+="&class=works"),e.next=21,fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});case 21:return r=e.sent,e.next=24,r.json();case 24:i=e.sent,p((null===i||void 0===i?void 0:i.hits)||[]),v((null===i||void 0===i?void 0:i.aggregations)||[]),Je((null===i||void 0===i||null===(t=i.total)||void 0===t?void 0:t.value)||0),Q(a),w(!1),S.length>0&&(localStorage.getItem("recentSearch1")!==S||""===localStorage.getItem("recentSearch1"))&&(o=localStorage.getItem("recentSearch1"),d=localStorage.getItem("recentSearch2"),b=localStorage.getItem("recentSearch3"),localStorage.setItem("recentSearch3",d||""),localStorage.setItem("recentSearch2",o||""),localStorage.setItem("recentSearch1",S),L([o,d,b])),document.querySelector(".search-bar")&&document.querySelector(".search-bar").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"});case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(b.a)(u.a.mark((function e(){var t,a,l,c,n,s,r,i,o,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O&&at){e.next=2;break}return e.abrupt("return");case 2:return w(!0),t="https://api.asianlegacylibrary.org/resources/".concat(at,"/search/v2/?q="),S&&(-1!==Ce.val.indexOf("or")?t+="(".concat(S):t+=S),Ee.val.length>0&&Ce.val.length>0&&(S&&-1===Ce.val.indexOf("or")&&(t+=","),-1!==Ce.val.indexOf("near")?Ce.val.forEach((function(e,l){"near"===e&&(a="near(".concat(S,":").concat(qe,")~").concat(Ue),t+=a)})):Ce.val.forEach((function(e,n){"not"===e&&(a="-(".concat(Ee.val[n],")"),t+=a),"or"===e&&(l=" or (".concat(Ee.val[n],")"),t+=l,S&&(t+=")")),"and"===e&&(c="(".concat(Ee.val[n],")"),t+=c)}))),dt&&(S&&(t+=","),t+=dt),e.next=9,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});case 9:if(n=e.sent,console.log(t),200!==n.status){e.next=19;break}return e.next=14,n.json();case 14:s=e.sent,rt([]),vt((null===s||void 0===s?void 0:s.hits)||[]),e.next=21;break;case 19:return w(!1),e.abrupt("return");case 21:if(0!==gt.length){e.next=30;break}return t=P?(t=(t=(t=P.replace("page_size=10","page_size=200")).replace("highlights=true","highlights=false")).replace("page=".concat(Xe),"page=".concat(Xe>20?Math.ceil(Xe/20):1))).replace("include_data=true","include_data=false"):"https://api.asianlegacylibrary.org/resources?q=&page_size=200",e.next=25,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});case 25:return i=e.sent,e.next=28,i.json();case 28:0!==(null===(o=e.sent)||void 0===o||null===(r=o.hits)||void 0===r?void 0:r.length)&&(b=[],null===o||void 0===o||null===(d=o.hits)||void 0===d||d.forEach((function(e,t){return b.push(null===e||void 0===e?void 0:e._id)})),pt(b));case 30:w(!1);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t,a,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),t="https://api.asianlegacylibrary.org/resources/subjecttree?language=".concat(fe),e.next=4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:l=e.sent,te((null===l||void 0===l?void 0:l.SubjectTree)||[]),w(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}1===H&&""!==fe&&function(){e.apply(this,arguments)}()}),[H,fe]),Object(l.useEffect)((function(){var e=localStorage.getItem("recentSearch1"),t=localStorage.getItem("recentSearch2"),a=localStorage.getItem("recentSearch3");null!==e&&""!==e||localStorage.setItem("recentSearch1",""),null!==t&&""!==t||localStorage.setItem("recentSearch2",""),null!==a&&""!==a||localStorage.setItem("recentSearch3",""),L([e,t,a])}),[n]),Object(l.useEffect)((function(){(Ne.length>0||Ee.val.length>0||xe.length>0||Y.length>0||d.length>0)&&Ct()}),[V,Y,I,xe,ce,ie,be]),Object(l.useEffect)((function(){n&&Ct()}),[Xe]),Object(l.useEffect)((function(){at&&Tt()}),[at]),Object(l.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.asianlegacylibrary.org/resources/summarize?agg_field=source",e.next=3,fetch("https://api.asianlegacylibrary.org/resources/summarize?agg_field=source",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,wt((null===a||void 0===a?void 0:a.TermsListing)||[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}0===Ot.length&&function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.asianlegacylibrary.org/resources/summarize?agg_field=collection_acip",e.next=3,fetch("https://api.asianlegacylibrary.org/resources/summarize?agg_field=collection_acip",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,_t((null===a||void 0===a?void 0:a.TermsListing)||[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}0===St.length&&function(){e.apply(this,arguments)}()}),[]),Object(m.jsx)(g.Provider,{value:{data:d,isLoading:O,searchQuery:S,totalRecord:$e,activePage:Xe,pageSize:10,recentSearch:T,languageFilter:V,single:at,singleData:ht,assetsFilter:Y,showAdvanceSearch:H,subjectTree:ee,filterTree:Ne,activeOperators:Ce,values:Ee,relatedResources:st,treeLanguage:fe,sourceLibraries:Ot,collections:St,searchField:I,globalSearch:dt,allResources:gt,aggregations:h,nearThat:qe,setNearThat:Be,nearBy:Ue,setNearBy:Ge,setAuthorFilter:je,authorFilter:xe,setAggregations:v,setGlobalSearch:ut,setAllResources:pt,setSearchField:D,setSourceLibraries:wt,setTreeLanguage:ye,setRelatedResources:rt,setValues:Ae,setActiveOperators:Fe,setFilterTree:ke,setShowAdvanceSearch:M,setAssetsFilter:K,setSingleData:vt,setSingle:lt,setLanguageFilter:W,setIsLoading:w,setSearchQuery:_,setActivePage:Ze,fetchData:Ct,setData:p,init:n,setInit:s,fetchURL:P,setSubjectTree:te,sourceFilter:ce,setSourceFilter:ne,setHasQuery:ze,hasQuery:Re,setCollectionFilter:oe,collectionFilter:ie,getSingleView:Tt,collectionRamachandraFilter:be,setCollectionRamachandraFilter:me},children:t})};function x(){var e=Object(l.useContext)(g);if(void 0===e)throw new Error("Context must be used within a Provider");return e}var j=function(e){var t=e.branch1,a=e.branch2,c=e.branch3,n=e.branch4,s=e.branch5,r=e.filterTreefn,o=x(),d=o.subjectTree,u=o.setFilterTree,b=o.treeLanguage,g=Object(l.useState)(""),p=Object(i.a)(g,2),j=p[0],h=p[1],v=Object(l.useState)({open:!1,data:"",acitve:""}),f=Object(i.a)(v,2),y=f[0],O=f[1],w=Object(l.useState)({open:!1,data:"",acitve:""}),N=Object(i.a)(w,2),k=N[0],S=N[1],_=Object(l.useState)({open:!1,data:"",acitve:""}),C=Object(i.a)(_,2),F=C[0],T=C[1],L=Object(l.useState)({open:!1,data:"",acitve:""}),E=Object(i.a)(L,2),A=E[0],I=E[1];function D(){setTimeout((function(){document.querySelector(".subject-tree").scroll({top:0,left:500,behavior:"smooth"})}),100)}return Object(l.useEffect)((function(){O({open:!1,data:"",acitve:""}),S({open:!1,data:"",acitve:""}),T({open:!1,data:"",acitve:""}),I({open:!1,data:"",acitve:""}),u([])}),[b]),Object(m.jsxs)("div",{className:"relative flex overflow-auto bg-white h-96 subject-tree",children:[Object(m.jsx)("div",{className:"w-1/2 space-y-4 sm:w-1/4 sm:min-w-1/4 min-w-1/2",children:d&&Object.keys(d).map((function(e,a){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("label",{htmlFor:"0"+e,className:"flex items-center justify-between cursor-pointer",children:[Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{type:"checkbox",id:"0"+e,onChange:function(t){r(e,1),I({open:!1,data:{},acitve:""}),T({open:!1,data:{},acitve:""}),S({open:!1,data:{},acitve:""}),O({open:!1,data:{},acitve:""}),O({open:t.target.checked,data:d[e]}),h(e),document.querySelector(".subject-tree").scroll({top:0,behavior:"smooth"}),D()},checked:t===e,className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:e}),Object(m.jsx)("span",{className:"text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24  ".concat(j!==e?"text-gray-500":"text-black"," "),children:e})]},a),"object"===typeof d[e]&&Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg"),className:"opacity-50",alt:""})]},a)})}))}),Object(m.jsx)("div",{className:" w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ".concat(y.open?"":"hidden"),children:y.data&&Object.keys(y.data).map((function(e,t){return e?Object(m.jsxs)("label",{htmlFor:"2"+e,className:"flex items-center justify-between cursor-pointer",children:[Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){r(e,2),I({open:!1,data:{},acitve:""}),T({open:!1,data:{},acitve:""}),S({open:!1,data:{},acitve:""}),S({open:t.target.checked,data:y.data[e],active:e}),"object"===typeof y.data[e]&&(document.querySelector(".subject-tree").scroll({top:0,behavior:"smooth"}),D())},id:"2"+e,type:"checkbox",checked:a===e,className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"})," ",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:e}),Object(m.jsx)("span",{className:"text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24 ".concat((null===k||void 0===k?void 0:k.active)!==e?"text-gray-500":"text-black"," "),children:e})]}),"object"===typeof y.data[e]&&Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg"),className:"opacity-50",alt:""})]},t):""}))}),Object(m.jsx)("div",{className:" w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ".concat(k.open?"":"hidden"),children:k.data&&Object.keys(k.data).map((function(e,t){return e?Object(m.jsxs)("label",{htmlFor:"3"+e,className:"flex items-center justify-between cursor-pointer ",children:[Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{id:"3"+e,onChange:function(t){r(e,3),I({open:!1,data:{},acitve:""}),T({open:!1,data:{},acitve:""}),"object"===typeof k.data[e]&&(T({open:t.target.checked,data:k.data[e],active:e}),document.querySelector(".subject-tree").scroll({top:0,behavior:"smooth"}),D())},type:"checkbox",checked:c===e,className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"})," ",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:e}),Object(m.jsx)("span",{className:"text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24 ".concat((null===F||void 0===F?void 0:F.active)!==e?"text-gray-500":"text-black"," "),children:e})]},t),"object"===typeof k.data[e]&&Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg"),className:"opacity-50",alt:""})]},t):""}))}),Object(m.jsx)("div",{className:"w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ".concat(F.open?"":"hidden"),children:F.data&&Object.keys(F.data).map((function(e,t){return e?Object(m.jsxs)("label",{htmlFor:"4"+e,className:"flex items-center justify-between cursor-pointer",children:[Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{id:"4"+e,type:"checkbox",checked:n===e,onChange:function(t){r(e,4),I({open:!1,data:{},acitve:""}),"object"===typeof F.data[e]&&(I({open:t.target.checked,data:F.data[e],active:e}),D())},className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"})," ",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:e}),Object(m.jsx)("span",{className:"block w-24 overflow-hidden text-sm text-gray-500 whitespace-nowrap overflow-ellipsis",children:e})]},t),"object"===typeof F.data[e]&&Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg"),className:"opacity-50",alt:""})]},t):""}))}),Object(m.jsx)("div",{className:"w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ".concat(A.open?"":"hidden"),children:A.data&&Object.keys(A.data).map((function(e,t){return Object(m.jsx)("label",{htmlFor:"5"+e,className:"flex items-center justify-between cursor-pointer",children:Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{id:"5"+e,type:"checkbox",checked:s===e,onChange:function(t){r(e,5)},className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"})," ",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:e}),Object(m.jsx)("span",{className:"block w-24 overflow-hidden text-sm text-gray-500 whitespace-nowrap overflow-ellipsis",children:e})]},t)},t)}))})]})},h=function(){var e=x(),t=e.activeOperators,a=e.setActiveOperators,c=e.values,n=e.setValues,s=e.nearThat,d=e.nearBy,u=e.setNearBy,b=e.setNearThat,g=Object(l.useState)({open:!1,index:0}),p=Object(i.a)(g,2),j=p[0],h=p[1];function v(e){var t=Object(r.a)(c.val);t[this]=e.target.value,n({val:t})}function f(e,l){var c=Object(r.a)(t.val);c[e]=l,a({val:c})}return Object(m.jsxs)(m.Fragment,{children:[c.val.map((function(e,l){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[Object(m.jsxs)("div",{className:"relative col-span-3",children:[Object(m.jsxs)("button",{onClick:function(e){return h({open:!j.open,index:l})},className:"m-0 py-2.5 md:px-4 px-2 bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between capitalize md:text-base text-sm",children:[t.val[l],Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg"),className:"inline-block w-3 transform rotate-90 ",alt:""})]}),Object(m.jsxs)(o.a,{show:(null===j||void 0===j?void 0:j.open)&&j.index===l,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",className:"absolute w-full py-1 space-y-2 bg-gray-100 top-10 z-10",children:[Object(m.jsx)("button",{onClick:function(){h({index:0,open:!1}),f(l,"and"),u(4),b(""),n({val:[""]})},className:"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base",children:"And"}),Object(m.jsx)("button",{onClick:function(){h({index:0,open:!1}),f(l,"or"),n({val:[""]}),u(4),b("")},className:"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base",children:"Or"}),Object(m.jsx)("button",{onClick:function(){h({index:0,open:!1}),f(l,"not"),n({val:[""]}),u(4),b("")},className:"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base",children:"Not"}),Object(m.jsx)("button",{onClick:function(){h({index:0,open:!1}),n({val:[""]}),f(l,"near")},className:"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base",children:"Near"})]})]}),Object(m.jsx)("div",{className:"relative col-span-8",children:Object(m.jsx)("div",{className:"relative",children:"near"===t.val[l]?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object(m.jsx)("input",{onChange:function(e){return b(e.target.value)},className:"m-0 py-2.5 px-4 md:text-base text-sm bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0",type:"text",placeholder:"Near to",value:s}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{onChange:function(e){u(e.target.value)},className:"m-0 py-2.5 px-4 md:text-base text-sm bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0",type:"number",placeholder:"lines away from each other",max:10,min:0,value:d,onBlur:function(e){return setTimeout((function(){d>=10?u(10):d<0&&u(0)}),700)}}),d>10||d<0?Object(m.jsx)("p",{class:"mt-0 text-xs text-red-600 absolute",children:"Value must be between 0 and 10"}):""]})]})}):Object(m.jsx)("input",{className:"m-0 py-2.5 px-4 bg-gray-100 text-black md:text-base text-sm items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0 ".concat(-1!==t.val.indexOf("near")?"opacity-50 pointer-events-none":""),type:"text",value:e||"",onChange:v.bind(l)})})}),Object(m.jsx)("span",{onClick:function(e){e.preventDefault(),function(e,l){var s=Object(r.a)(c.val),i=Object(r.a)(t.val);s.splice(l,1),i.splice(l,1),n({val:s}),a({val:i})}(0,l)},className:"inline-flex items-center justify-center col-span-1 py-2 m-0 mb-2 text-xs font-semibold text-black cursor-pointer sm:bg-gray-100 sm:px-3",children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),className:"w-3",alt:""})})]})},l)})),Object(m.jsx)("div",{className:"text-right",children:0===c.val.length&&Object(m.jsxs)("a",{href:"#!",onClick:function(e){e.preventDefault(),n({val:[].concat(Object(r.a)(c.val),[""])}),a({val:[].concat(Object(r.a)(t.val),["and"])})},className:"inline-flex items-center mt-5 text-sm text-black ",children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),className:"inline-block w-2 mr-2 transform rotate-45",alt:"add"}),"Add Block"]})})]})},v=function(){var e=x(),t=e.recentSearch,a=e.setSearchQuery;return t.length?Object(m.jsx)("div",{className:"w-full px-4 py-3 mt-3 border border-solid border-yellow",children:Object(m.jsxs)("div",{className:"flex flex-col ",children:[Object(m.jsx)("h5",{className:"block mb-2 text-base text-black",children:"Recent Searches"}),Object(m.jsx)("ul",{className:"pl-0 m-0 space-y-1 list-none",children:t&&t.map((function(e,t){return Object(m.jsx)("li",{className:"pl-0 m-0 before:hidden",children:Object(m.jsx)("p",{onClick:function(t){t.stopPropagation(),t.preventDefault(),a(e)},className:"block m-0 text-base text-gray-500 cursor-pointer hover:text-black",children:e})},t)}))})]})}):Object(m.jsx)(m.Fragment,{})},f=function(){var e,t=Object(l.useState)(!1),a=Object(i.a)(t,2),c=a[0],n=a[1],s=Object(l.useState)(!1),d=Object(i.a)(s,2),u=d[0],b=d[1],g=Object(l.useState)(!1),p=Object(i.a)(g,2),f=p[0],y=p[1],O=Object(l.useState)(""),w=Object(i.a)(O,2),N=w[0],k=w[1],S=Object(l.useState)(""),_=Object(i.a)(S,2),C=_[0],F=_[1],T=Object(l.useState)(""),L=Object(i.a)(T,2),E=L[0],A=L[1],I=Object(l.useState)(""),D=Object(i.a)(I,2),R=D[0],z=D[1],H=Object(l.useState)(""),M=Object(i.a)(H,2),q=M[0],B=M[1],P=x(),Q=P.setSearchQuery,U=P.searchQuery,G=P.showAdvanceSearch,V=P.setShowAdvanceSearch,W=P.fetchData,$=P.filterTree,J=P.data,Y=P.setFilterTree,K=P.activeOperators,X=P.setActiveOperators,Z=P.setValues,ee=P.setTreeLanguage,te=P.setSearchField,ae=P.searchField,le=P.values,ce=P.setData,ne=P.setIsLoading,se=P.setInit,re=P.isLoading,ie=P.init,oe=P.setLanguageFilter,de=P.setAssetsFilter,ue=P.setAuthorFilter,be=P.authorFilter,me=P.languageFilter,ge=P.assetsFilter,pe=P.sourceFilter,xe=P.setSourceFilter,je=P.setActivePage,he=P.setHasQuery,ve=P.hasQuery,fe=P.activePage,ye=P.collectionFilter,Oe=P.setCollectionFilter,we=P.nearBy,Ne=P.collectionRamachandraFilter,ke=P.setCollectionRamachandraFilter;function Se(){je(1),Y(N&&C&&E&&R&&q?[N,C,E,R,q]:N&&C&&E&&R?[N,C,E,R]:N&&C&&E?[N,C,E]:N&&C?[N,C]:N?[N]:[]),K.val.length&&le.val.length&&W(),y(!1)}function _e(e,t){1===t?(F(""),A(""),z(""),B(""),k(N===e?"":e)):2===t?(A(""),z(""),B(""),F(C===e?"":e)):3===t?(z(""),B(""),A(E===e?"":e)):4===t?(B(""),z(R===e?"":e)):5===t&&B(q===e?"":e)}return Object(l.useEffect)((function(){($.length||ie)&&W()}),[$]),Object(l.useEffect)((function(){f&&Se()}),[f]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"flex flex-col-reverse px-4 md:justify-center md:flex-row",children:[Object(m.jsx)("div",{className:"w-32 md:pt-14",children:Object(m.jsxs)("div",{className:"flex flex-col items-start space-y-0 text-left",children:[Object(m.jsx)("p",{onClick:function(){V(-1),b(!0),ve||(X({val:[]}),Z({val:[]}))},className:"text-sm  block leading-7 pb-1 cursor-pointer mb-0 ".concat(u?"text-black":"text-gray-500"),children:"Subject Tree"}),u&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{onClick:function(){V(1),ee("en")},className:"text-xs block leading-5 cursor-pointer pl-2  ".concat(u?"text-black":"text-gray-500"),children:"English"}),Object(m.jsx)("p",{onClick:function(){V(1),ee("bo")},className:"text-xs block leading-5 cursor-pointer pl-2  ".concat(u?"text-black":"text-gray-500"),children:"Tibetan"})]}),Object(m.jsx)("p",{onClick:function(){V(2),b(!1),0===K.val.length&&(Z({val:[].concat(Object(r.a)(le.val),[""])}),X({val:[].concat(Object(r.a)(K.val),["and"])}))},className:"text-sm  flex items-center leading-7 pb-1 cursor-pointer ".concat(2===G?"text-black pl-2":"text-gray-500"),children:"Query Builder"})]})}),Object(m.jsx)("div",{className:"block w-full max-w-4xl lg:pr-12 search-bar",children:Object(m.jsxs)("div",{className:"relative ",children:[Object(m.jsxs)("div",{className:"relative group",children:[Object(m.jsx)("div",{className:"absolute w-20 pr-1 sm:pr-4 sm:w-40 sm:mt-0 mt-0.5",children:Object(m.jsxs)("select",{onChange:function(e){e.preventDefault(),te(e.target.value)},value:ae,style:{backgroundImage:"url(".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle-down.svg)")},className:"relative top-0 z-10 w-full py-2 pr-3 overflow-hidden text-xs text-black bg-white bg-right bg-no-repeat border-black border-none appearance-none overflow-ellipsis md:text-lg h-11 focus:outline-none focus:ring-0 focus: border-b-solid ",children:[Object(m.jsx)("option",{value:"",children:"All"}),Object(m.jsx)("option",{value:"data",children:"Body Of Text"}),Object(m.jsx)("option",{value:"name",children:"Author"}),Object(m.jsx)("option",{value:"title",children:"Title"}),Object(m.jsx)("option",{value:"variant",children:"Variant title"}),Object(m.jsx)("option",{value:"colophon",children:"Colophon"})]})}),Object(m.jsx)("input",{className:"w-full py-2 sm:pl-40 pl-20 sm:pr-3   overflow-ellipsis overflow-hidden h-12 text-black border-b-2 focus:outline-none focus:ring-0 focus: border-solid border-black sm:text-lg text-sm ".concat(re?"cursor-wait ":""," \n                                    ").concat(-1!==K.val.indexOf("near")?" ":"","\n                                "),type:"search",placeholder:"Search resources - titles, authors, topics...",value:U,onChange:function(e){Q(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(1===fe?W():je(1))},readOnly:re,onBlur:function(e){return setTimeout((function(){n(!1)}),200)},onFocus:function(e){return n(!0)}}),Object(m.jsx)("div",{className:"hidden text-right md:block",children:Object(m.jsx)("button",{type:"button",className:"px-4 py-1 mt-1 text-sm font-semibold uppercase border border-solid border-green text-green hover:bg-green hover:text-white",onClick:function(){1===fe?W():je(1)},children:"Search"})}),J.length||U||$.length||K.val.length&&le.val.length&&ve||be.length||me.length||""!==pe||""!==ye||""!==Ne||ge.length?Object(m.jsx)("p",{onClick:function(e){e.preventDefault(),ce([]),ne(!0),Q(""),Oe(""),ke(""),k(""),F(""),A(""),z(""),B(""),Y([]),X({val:[]}),Z({val:[]}),oe([]),xe(""),de([]),ue([]),se(!1),b(!1),ee(""),ne(!1),he(!1)},className:"absolute bg-white right-0 sm:right-2.5 sm:top-3 top-3.5 cursor-pointer",children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"search"})}):Object(m.jsx)("p",{className:"absolute right-0 sm:top-1.5 top-2 bg-white cursor-pointer",children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/search.svg"),alt:"close"})})]}),Object(m.jsx)(o.a,{show:c&&!U,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",className:"absolute z-10 w-full bg-white top-12",children:Object(m.jsx)(v,{})}),Object(m.jsx)("div",{className:"grid grid-cols-12 gap-2 pt-3 ",children:Object(m.jsxs)("div",{className:"relative col-span-12",children:[Object(m.jsx)("div",{className:"flex justify-between pt-0 text-xs",children:Object(m.jsxs)("div",{className:"flex flex-wrap ".concat(re?"pointer-events-none opacity-70":""),children:[N&&$[0]&&Object(m.jsxs)("p",{className:"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group ",children:[N.substring(0,12),N.length>12?"...":"",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:N}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),y(!0),_e(N,1)},className:"w-2.5 ml-2 cursor-pointer"})]}),C&&$[1]&&Object(m.jsxs)("p",{className:"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group ",children:[C.substring(0,12),C.length>12?"...":"",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:C}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),y(!0),_e(C,2)},className:"w-2.5 ml-2 cursor-pointer"})]}),E&&$[2]&&Object(m.jsxs)("p",{className:"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group ",children:[E.substring(0,12),E.length>12?"...":"",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:E}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),y(!0),_e(E,3)},className:"w-2.5 ml-2 cursor-pointer"})]}),R&&$[3]&&Object(m.jsxs)("p",{className:"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group ",children:[R.substring(0,12),R.length>12?"...":"",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:R}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),y(!0),_e(R,4)},className:"w-2.5 ml-2 cursor-pointer"})]}),q&&$[4]&&Object(m.jsxs)("p",{className:"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group ",children:[q.substring(0,12),q.length>12?"...":"",Object(m.jsx)("span",{className:"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100",children:q}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),y(!0),_e(q,5)},className:"w-2.5 ml-2 cursor-pointer"})]}),0!==(null===K||void 0===K||null===(e=K.val)||void 0===e?void 0:e.length)&&ve&&Object(m.jsxs)("p",{className:"inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100",children:["Custom Query",Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",onClick:function(e){e.preventDefault(),je(1),Z({val:[]}),X({val:[]}),he(!1),y(!0)},className:"w-2.5 ml-2 cursor-pointer"})]})]})}),Object(m.jsxs)("div",{className:"absolute w-full md:-top-11 top-0 p-5 pt-10 bg-white    border  border-solid border-yellow z-10 ".concat(-1!==G?"block":"hidden"),children:[Object(m.jsx)("div",{className:"absolute right-4 top-3.5 cursor-pointer opacity-50",onClick:function(e){e.preventDefault(),V(-1),ve||(X({val:[]}),Z({val:[]}))},children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"close",className:"w-3"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"".concat(1===G?"block":"hidden"),children:Object(m.jsx)(j,{branch1:N,branch2:C,branch3:E,branch4:R,branch5:q,filterTreefn:_e})}),Object(m.jsx)("div",{onKeyDown:function(e){"Enter"===e.key&&(-1===le.val.indexOf("")||we>0&&we<=10)&&Se()},className:"".concat(2===G?"block":"hidden"),children:Object(m.jsx)(h,{})}),Object(m.jsxs)("div",{className:"mt-10 space-x-4 text-right",children:[Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),V(-1),ve||(X({val:[]}),Z({val:[]}))},className:"py-1 text-sm bg-white border-2 border-solid px-7 border-gray text-gray hover:bg-gray hover:text-black ",children:"Cancel"}),Object(m.jsx)("button",{onClick:function(e){Se()},className:"py-1 text-sm bg-white border-2 px-7 border-green text-green hover:bg-yellow hover: border-solid hover:border-yellow ".concat(-1===le.val.indexOf("")||-1!==K.val.indexOf("near")?"":"pointer-events-none opacity-70"," "),children:"Apply"})]}),Object(m.jsxs)("div",{className:"items-center justify-between sm:flex",children:[Object(m.jsxs)("p",{className:"relative flex items-center m-0 mt-3 text-xs text-gray group",children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/info.svg"),alt:"close",className:"w-5 mr-2 opacity-40"}),Object(m.jsx)("span",{className:"absolute w-56 opacity-0 left-6 group-hover:opacity-100",children:"We understand you want to build complex queries. This feature is coming soon!"})]}),Object(m.jsx)("p",{className:"mt-3 text-xs text-gray",children:"All fields are required"})]})]})]})]})})]})})]})})},y=a(3),O=function(){return Object(m.jsx)("div",{className:"p-3 mt-4 text-white md:p-5 bg-green md:mt-0",children:Object(m.jsxs)("div",{className:"relative max-w-3xl p-4 mx-auto border-2 border-solid md:border-4 md:p-10 border-yellow ",children:[Object(m.jsx)("h5",{className:"mb-6 text-xl text-white md:leading-10 md:text-3xl",children:"It looks like there aren't many great matches for your search."}),Object(m.jsx)("p",{className:"mb-6 text-sm font-light text-white md:leading-8 md:text-base",children:'Try using words that might appear on the translation you\u2019re looking for. For example, "sanskrit" instead of "east translations."'}),Object(m.jsx)("p",{className:"text-xs font-light text-white md:leading-6 md:text-sm",children:"Need help? Take a look at other tips for searching on ALL Digital Library."})]})})},w=function(){var e=x(),t=e.sourceLibraries,a=e.setSourceFilter,c=e.sourceFilter,n=e.collections,s=e.setCollectionFilter,r=e.collectionFilter,i=e.fetchData;return Object(l.useEffect)((function(){(c||r)&&i()}),[c,r]),Object(m.jsxs)("div",{className:"text-center ",children:[Object(m.jsx)("h5",{className:"inline-block py-1 mb-6 text-base leading-10 text-black bg-gray-100 lg:px-32 px-14 text-opacity-90",children:"Tibetan Input Text Collections"}),Object(m.jsx)("div",{className:"items-center justify-center sm:flex ",children:n&&n.map((function(e,t){return Object(m.jsx)("a",{className:"inline-block mx-5 mb-3 text-base text-green",href:"#!",onClick:function(t){t.preventDefault(),s(null===e||void 0===e?void 0:e.key)},children:null===e||void 0===e?void 0:e.key},t)}))}),Object(m.jsx)("h5",{className:"inline-block py-1 mt-20 mb-6 text-base leading-10 text-black bg-gray-100 lg:px-20 px-14 text-opacity-90",children:"Browse Source Libraries"}),Object(m.jsx)("div",{className:"items-center justify-center md:flex",children:t&&t.map((function(e,t){return Object(m.jsx)("a",{className:"inline-block mx-5 mb-3 text-base text-green",href:"#!",onClick:function(t){t.preventDefault(),a(null===e||void 0===e?void 0:e.key)},children:null===e||void 0===e?void 0:e.key},t)}))})]})},N=a(9);function k(e){if(e)return String(e).replaceAll(/^(@\w+)\s/g,"<br/><strong>$1</strong> ").replaceAll(/\s(@\w+)\s/g,"<br/><strong>$1</strong><br/>")}var S,_=function(e){var t,a,l,c,n,s,r,i,o,d,u=e.item,b=e.index,g=x().setSingle;return Object(m.jsxs)(N.b,{to:"/resource/".concat(null===u||void 0===u?void 0:u._id),className:"block cursor-pointer search-result-item group",onClick:function(e){return g("")},children:[Object(m.jsxs)("div",{className:"grid grid-cols-12 mb-2.5 ",children:[Object(m.jsx)("div",{className:"col-span-2 md:col-span-1",children:Object(m.jsx)("p",{className:"mb-0 text-xs text-gray-500 md:text-sm",children:"Author"})}),Object(m.jsx)("div",{className:"col-span-10 md:col-span-11",children:Object(m.jsx)("p",{className:"mb-0 text-xs text-black sm:text-sm",dangerouslySetInnerHTML:{__html:(null===u||void 0===u||null===(t=u.highlight)||void 0===t?void 0:t["bibframe:person"])||(null===u||void 0===u||null===(a=u._source)||void 0===a?void 0:a["bibframe:person"])||"--"}})})]}),Object(m.jsxs)("div",{className:"grid grid-cols-12",children:[Object(m.jsx)("div",{className:"col-span-2 md:col-span-1",children:Object(m.jsx)("p",{className:"mb-0 text-xs text-gray-500 md:text-sm",children:"Title"})}),Object(m.jsxs)("div",{className:"col-span-10 md:col-span-11",children:[Object(m.jsx)("p",{className:"block mb-1 text-base text-black whitespace-pre-line md:text-xl md:leading-9 hover:underline group-hover:underline",dangerouslySetInnerHTML:{__html:k((null===u||void 0===u||null===(l=u.highlight)||void 0===l?void 0:l["bibframe:maintitle"])||(null===u||void 0===u||null===(c=u._source)||void 0===c?void 0:c["bibframe:maintitle"])||"--")}}),Object(m.jsx)("p",{className:"mb-0 text-xs text-gray-500 whitespace-pre-line md:leading-8 md:text-base",dangerouslySetInnerHTML:{__html:k((null===u||void 0===u||null===(n=u.highlight)||void 0===n?void 0:n["bibframe:varianttitle@colophon"])||(null===u||void 0===u||null===(s=u._source)||void 0===s?void 0:s["bibframe:varianttitle@colophon"]))}}),Object(m.jsxs)("div",{className:"items-center mt-5 space-y-2 sm:divide-x sm:space-x-3 sm:space-y-0 sm:flex sm:divide-gray",children:[Object(m.jsxs)("p",{className:"m-0 text-xs leading-none text-gray",children:["Source Library:"," ",(null===u||void 0===u||null===(r=u._source)||void 0===r?void 0:r["bibframe:source"])||"--"]}),Object(m.jsxs)("p",{className:"m-0 text-xs leading-none sm:pl-3 text-gray",children:["Language:"," ",(null===u||void 0===u||null===(i=u._source)||void 0===i?void 0:i["bibframe:language"])||"--"]}),Object(m.jsxs)("p",{className:"m-0 text-xs leading-none sm:pl-3 text-gray",children:["Asset Type:"," ",(null===u||void 0===u||null===(o=u._source)||void 0===o||null===(d=o["all:items"])||void 0===d?void 0:d["all:assettype"])||"--"]})]})]})]})]},b)},C=function(){var e,t=x(),a=t.totalRecord,l=t.activePage,c=t.setActivePage,n=t.pageSize,s=t.isLoading,r=a/n;return(r=new Array(Math.ceil(r)).fill("")).length>10&&(e=!0),Object(m.jsx)("div",{className:"py-10 border-t border-gray-300 border-solid mt-14",children:Object(m.jsxs)("div",{className:"flex items-center justify-end ".concat(s?"opacity-50 pointer-events-none ":""),children:[Object(m.jsx)("div",{className:"flex items-center justify-center pr-4 space-x-4",children:r.map((function(t,a){return e&&a+1===l+2?Object(m.jsx)("span",{className:"inline-block text-black text-opacity-50 border-b-2 border-black border-opacity-0 px-0.5",children:"..."},a):e&&a+1===1||e&&a+1===r.length||e&&a+1===l||e&&a+1===l-1||e&&a+1===l+1||!e?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("a",{onClick:function(e){e.preventDefault(),c(a+1)},href:"#!",className:"inline-block text-black border-b-2 border-black px-0.5 ".concat(l===a+1?"text-opacity-100  border-solid border-opacity-100":"text-opacity-50  border-solid border-opacity-0"),children:a+1},a)}):e&&a+1===l-2?Object(m.jsx)("span",{className:"inline-block text-black text-opacity-50    border-b-2    border-black  border-solid border-opacity-0 px-0.5",children:"..."},a):Object(m.jsx)(m.Fragment,{})}))}),Object(m.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),c(l!==r.length?l+1:{})},className:" mr-4 inline-block ".concat(l===r.length?"pointer-events-none opacity-70":""),children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_arrow_forward.svg"),alt:""})}),Object(m.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),c(l!==r.length?r.length:{})},className:" ".concat(l===r.length?"pointer-events-none opacity-70":""),children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_last_page.svg"),alt:""})})]})})},F=function(){var e,t,a,c,n,s,o,d,u,b=x(),g=b.aggregations,p=b.languageFilter,j=b.setLanguageFilter,h=b.assetsFilter,v=b.setAssetsFilter,f=b.isLoading,y=b.setAuthorFilter,O=b.authorFilter,w=b.sourceFilter,N=b.setSourceFilter,k=b.setActivePage,S=b.setCollectionFilter,_=b.collectionFilter,C=b.setCollectionRamachandraFilter,F=b.collectionRamachandraFilter,T=g.author,L=g.assettype,E=g.language,A=g.source,I=g.collection_acip,D=void 0===I?[]:I,R=g.collection_ramachandra,z=void 0===R?[]:R;var H=Object(l.useState)(!1),M=Object(i.a)(H,2),q=M[0],B=M[1],P=Object(l.useState)(!0),Q=Object(i.a)(P,2),U=Q[0],G=Q[1],V=Object(l.useState)(!0),W=Object(i.a)(V,2),$=W[0],J=W[1],Y=Object(l.useState)(!0),K=Object(i.a)(Y,2),X=K[0],Z=K[1],ee=Object(l.useState)(!0),te=Object(i.a)(ee,2),ae=te[0],le=te[1],ce=Object(l.useState)(!0),ne=Object(i.a)(ce,2),se=ne[0],re=ne[1],ie=Object(l.useState)(!0),oe=Object(i.a)(ie,2),de=oe[0],ue=oe[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center md:hidden",onClick:function(e){return B(!q)},children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/filter.svg"),className:"w-4 mr-2",alt:""})," ","Filter"]}),Object(m.jsxs)("div",{className:"w-full md:block md:static fixed md:h-auto h-screen z-999999 md:z-0 left-0 top-0 overflow-auto max-w-260 bg-white   md:p-0 p-4 md:shadow-none shadow md:border-none bprder border-t border-gray-200 ".concat(q?"":"hidden"," ").concat(f?"md:opacity-60 pointer-events-none":""),children:[Object(m.jsx)("div",{className:"text-right md:hidden",children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center text-sm md:hidden",onClick:function(e){return B(!q)},children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),className:"w-3 mr-2",alt:""})," ","Close"]})}),Object(m.jsxs)("div",{className:"space-y-10",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"pl-0 mb-6 text-lg font-normal text-black",children:"FILTER BY:"}),(null===L||void 0===L||null===(e=L.buckets)||void 0===e?void 0:e.length)>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{onClick:function(e){return G(!U)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Asset Types"," ",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",U?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat(U?"":"hidden"),children:(null===L||void 0===L?void 0:L.buckets)&&(null===L||void 0===L?void 0:L.buckets.map((function(e,t){return Object(m.jsxs)("div",{className:"flex items-center ",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=h.indexOf(e);if(-1===t)v([].concat(Object(r.a)(h),[e]));else{var a=Object(r.a)(h);a.splice(t,1),v(a)}k(1)}("assettype:".concat(null===e||void 0===e?void 0:e.key))},checked:-1!==h.indexOf("assettype:".concat(null===e||void 0===e?void 0:e.key)),value:"assettype:".concat(null===e||void 0===e?void 0:e.key),type:"checkbox",id:null===e||void 0===e?void 0:e.key,className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"text-base text-gray-500 capitalize",children:[null===e||void 0===e?void 0:e.key," (",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)})))})]}):""]}),(null===E||void 0===E||null===(t=E.buckets)||void 0===t?void 0:t.length)>0?Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:function(e){return J(!$)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Language"," ",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",$?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat($?"":"hidden"),children:E&&(null===E||void 0===E||null===(a=E.buckets)||void 0===a?void 0:a.map((function(e,t){return Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=p.indexOf(e);j(-1===t?[e]:[]),k(1)}("language:".concat(null===e||void 0===e?void 0:e.key))},type:"checkbox",id:null===e||void 0===e?void 0:e.key,name:"language",value:"language:".concat(null===e||void 0===e?void 0:e.key),checked:-1!==p.indexOf("language:".concat(null===e||void 0===e?void 0:e.key)),className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsx)("span",{className:"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100",children:null===e||void 0===e?void 0:e.key}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"text-base text-gray-500",children:[null===e||void 0===e?void 0:e.key.substring(0,12),(null===e||void 0===e?void 0:e.key.length)>12?"...":""," ","(",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)})))})]}):"",(null===A||void 0===A||null===(c=A.buckets)||void 0===c?void 0:c.length)>0?Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:function(e){return Z(!X)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Source Libraries"," ",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",X?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat(X?"":"hidden"),children:A&&(null===A||void 0===A||null===(n=A.buckets)||void 0===n?void 0:n.map((function(e,t){return Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=w.indexOf(e);N(-1===t?e:""),k(1)}("".concat(null===e||void 0===e?void 0:e.key))},type:"checkbox",id:null===e||void 0===e?void 0:e.key,name:"source",value:"".concat(null===e||void 0===e?void 0:e.key),checked:w===(null===e||void 0===e?void 0:e.key),className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsx)("span",{className:"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100",children:null===e||void 0===e?void 0:e.key}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"text-base text-gray-500",children:[null===e||void 0===e?void 0:e.key.substring(0,12),(null===e||void 0===e?void 0:e.key.length)>12?"...":""," ","(",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)})))})]}):"",(null===D||void 0===D||null===(s=D.buckets)||void 0===s?void 0:s.length)>0?Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:function(e){return le(!ae)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Collections",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",ae?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat(ae?"":"hidden"),children:D&&(null===D||void 0===D||null===(o=D.buckets)||void 0===o?void 0:o.map((function(e,t){return Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=_.indexOf(e);S(-1===t?e:""),k(1)}("".concat(null===e||void 0===e?void 0:e.key))},type:"checkbox",id:null===e||void 0===e?void 0:e.key,name:"source",value:"".concat(null===e||void 0===e?void 0:e.key),checked:_===(null===e||void 0===e?void 0:e.key),className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsx)("span",{className:"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100",children:null===e||void 0===e?void 0:e.key}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"text-base text-gray-500",children:[null===e||void 0===e?void 0:e.key.substring(0,12),(null===e||void 0===e?void 0:e.key.length)>12?"...":""," ","(",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)})))})]}):"",(null===z||void 0===z||null===(d=z.buckets)||void 0===d?void 0:d.length)>0?Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:function(e){return re(!se)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Collections Ramachandra",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",se?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat(se?"":"hidden"),children:z&&(null===z||void 0===z||null===(u=z.buckets)||void 0===u?void 0:u.map((function(e,t){return Object(m.jsx)(m.Fragment,{children:(null===e||void 0===e?void 0:e.key)&&Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=F.indexOf(e);C(-1===t?e:""),k(1)}("".concat(null===e||void 0===e?void 0:e.key))},type:"checkbox",id:null===e||void 0===e?void 0:e.key,name:"source",value:"".concat(null===e||void 0===e?void 0:e.key),checked:F===(null===e||void 0===e?void 0:e.key),className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"}),Object(m.jsx)("span",{className:"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100",children:null===e||void 0===e?void 0:e.key}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"text-base text-gray-500",children:[(null===e||void 0===e?void 0:e.key)?null===e||void 0===e?void 0:e.key.substring(0,12):"--",(null===e||void 0===e?void 0:e.key.length)>12?"...":""," ","(",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)})})))})]}):"",(null===T||void 0===T?void 0:T.buckets.length)>0&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{onClick:function(e){return ue(!de)},className:"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer",children:["Author"," ",Object(m.jsx)("img",{className:"w-3 md:mr-20",src:"".concat("https://asianlegacylibrary.org/",de?"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}":"wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}"),alt:""})]}),Object(m.jsx)("div",{className:"flex flex-col space-y-4 ".concat(de?"":"hidden"),children:null===T||void 0===T?void 0:T.buckets.map((function(e,t){return Object(m.jsxs)("div",{className:"relative flex items-center group",children:[Object(m.jsx)("input",{onChange:function(t){!function(e){var t=O.indexOf(e);if(-1===t)y([].concat(Object(r.a)(O),[e]));else{var a=Object(r.a)(O);a.splice(t,1),y(a)}k(1)}(null===e||void 0===e?void 0:e.key)},type:"checkbox",id:e.key,name:"author",value:null===e||void 0===e?void 0:e.key,checked:-1!==O.indexOf(null===e||void 0===e?void 0:e.key),className:"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox"})," ",Object(m.jsx)("span",{className:"absolute left-0 z-10 w-48 max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none top-6 bg-green group-hover:opacity-100",children:null===e||void 0===e?void 0:e.key}),Object(m.jsxs)("label",{htmlFor:null===e||void 0===e?void 0:e.key,className:"relative block w-40 overflow-hidden text-sm text-gray-500 overflow-ellipsis whitespace-nowrap ",children:[null===e||void 0===e?void 0:e.key.substring(0,12),(null===e||void 0===e?void 0:e.key.length)>12?"...":""," ","(",Number(null===e||void 0===e?void 0:e.doc_count).toLocaleString(),")"]})]},t)}))})]})]}),Object(m.jsx)("h3",{className:"pl-0 mt-12 mb-2 text-base text-green",children:"HELP US IMPROVE"}),Object(m.jsxs)("p",{className:"mb-5 text-sm lg:pr-14 text-green",children:["If you have a suggestion to help us improve your search experience,"," ",Object(m.jsx)("a",{className:"underline",href:"mailto:librarian@asianlegacylibrary.org  ",children:"let us know."})]})]})]})},T=function(){var e=x(),t=e.data,a=e.isLoading,l=e.searchQuery,c=e.totalRecord,n=e.setSingle,s=e.init,r=e.authorFilter,i=e.languageFilter,o=e.assetsFilter;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"justify-center px-5 pt-5 mx-auto md:mt-10 md:pt-0 md:flex",children:[t.length>0||(l||r||i||o)&&s?Object(m.jsx)(F,{}):"",Object(m.jsxs)("div",{className:"w-full max-w-3xl lg:pr-12",children:[0!==t.length&&Object(m.jsx)("div",{className:"mb-10 text-right",children:Object(m.jsxs)("h5",{className:"text-xl font-normal text-right text-black -mt-7 whitespace-nowrap md:mt-0",children:[Number(c).toLocaleString(),1e4===c?"+":""," results"]})}),Object(m.jsxs)("div",{className:"flex flex-col space-y-10",children:[a&&Object(m.jsx)("h5",{children:" Searching..."}),t&&t.map((function(e,t){return Object(m.jsx)(_,{item:e,index:t,searchQuery:l,setSingle:n},t)}))]}),0===t.length&&!a&&s&&Object(m.jsx)(O,{}),c>10&&0!==t.length?Object(m.jsx)(C,{}):""]})]}),0===t.length&&!s&&Object(m.jsx)(w,{})]})},L=function(e){e.iiifUrl,e.size;var t=x(),a=t.allResources,c=t.single,n=Object(l.useState)(0),s=Object(i.a)(n,2),r=s[0],o=s[1];return Object(l.useEffect)((function(){o(a.indexOf(c))}),[c,a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"p-2 mb-5 text-sm bg-gray-100 md:text-base ",children:Object(m.jsxs)("div",{className:"flex items-center justify-between mx-auto max-w-7xl",children:[Object(m.jsxs)(N.b,{to:"/resource/".concat(a[r-1]),className:0===r||void 0===a[r-1]?"pointer-events-none opacity-60 flex items-center":"flex items-center",children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),className:"inline-block w-3 mr-2 transform rotate-90",alt:""}),"Previous Resource"]}),Object(m.jsxs)(N.b,{to:"/resource/".concat(a[r+1]),className:1===a.length||r===a.length-1?"pointer-events-none opacity-60 flex items-center":"flex items-center",children:["Next Resource",Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),className:"inline-block w-3 ml-2 transform -rotate-90",alt:""})]})]})})})},E=function(e){var t=e.relatedworks,a=void 0===t?[]:t,c=x(),n=c.setIsLoading,s=c.relatedResources,r=c.setRelatedResources,i=c.singleData,o=c.single,d=c.setSingle;return Object(l.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(t){var a,l,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.asianlegacylibrary.org/resources/".concat(t,"?include_data=true"),e.next=3,fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return l=e.sent,e.next=6,l.json();case 6:c=e.sent,r((null===c||void 0===c?void 0:c.hits)||[]),n(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.length&&i.length>0&&a.map((function(t){var a,l,c,n;return function(t){return e.apply(this,arguments)}((null===t||void 0===t||null===(a=t["bibframe:translation@work"])||void 0===a||null===(l=a.replaceAll("<em>",""))||void 0===l?void 0:l.replaceAll("</em>",""))||(null===t||void 0===t||null===(c=t["bibframe:translationof@work"])||void 0===c||null===(n=c.replaceAll("<em>",""))||void 0===n?void 0:n.replaceAll("</em>","")))}))}),[i,o]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"px-4 mx-auto mt-12 mb-5 max-w-7xl",children:[Object(m.jsx)("p",{className:"uppercase md:text-xl mb-7",children:"RELATED RESOURCES"}),Object(m.jsx)("div",{className:"grid gap-10 lg:grid-cols-3",children:s&&s.map((function(e,t){var a,l,c,n,s,r,i;return Object(m.jsxs)(N.b,{to:"/resource/".concat(null===e||void 0===e?void 0:e._id),className:"block cursor-pointer search-result-item group",onClick:function(e){return d("")},children:[(null===e||void 0===e?void 0:e._source["bibframe:person"])&&Object(m.jsx)("h5",{className:"text-sm",dangerouslySetInnerHTML:{__html:(null===e||void 0===e||null===(a=e._source)||void 0===a?void 0:a["bibframe:person"])||"--"}}),(null===e||void 0===e||null===(l=e._source)||void 0===l?void 0:l["bibframe:maintitle"])&&Object(m.jsx)("p",{className:"block mb-1 text-xl leading-9 text-black hover:underline",dangerouslySetInnerHTML:{__html:(null===e||void 0===e||null===(c=e.highlight)||void 0===c?void 0:c["bibframe:maintitle"])||(null===e||void 0===e||null===(n=e._source)||void 0===n?void 0:n["bibframe:maintitle"])}}),(null===e||void 0===e||null===(s=e._source)||void 0===s?void 0:s["bibframe:varianttitle@colophon"])&&Object(m.jsx)("p",{className:"mb-5 text-base leading-8 text-gray-500",dangerouslySetInnerHTML:{__html:(null===e||void 0===e||null===(r=e.highlight)||void 0===r?void 0:r["bibframe:varianttitle@colophon"])||(null===e||void 0===e||null===(i=e._source)||void 0===i?void 0:i["bibframe:varianttitle@colophon"])}})]},t)}))})]})})},A=function(e){var t=e.lib,a=x().sourceLibraries;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"px-4 mx-auto my-12 max-w-7xl",children:[Object(m.jsxs)("p",{className:"uppercase md:text-xl mb-7",children:["ABOUT THE ",t," SOURCE LIBRARY"," "]}),Object(m.jsxs)("div",{className:"grid gap-3 md:grid-cols-12 md:gap-7 ",children:[Object(m.jsx)("div",{className:"md:col-span-4",children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/about.png"),className:"w-full",alt:""})}),Object(m.jsx)("div",{className:"md:col-span-8",children:Object(m.jsx)("p",{className:"text-base leading-7 text-gray-800",children:a.map((function(e,a){var l,c,n,s,r;return(null===e||void 0===e||null===(l=e._source)||void 0===l?void 0:l["bibframe:identifier@source"])===t&&Object(m.jsxs)(m.Fragment,{children:[(null===e||void 0===e||null===(c=e._source)||void 0===c?void 0:c["bibframe:note@description"])&&Object(m.jsx)("div",{className:"mb-3",dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(n=e._source)||void 0===n?void 0:n["bibframe:note@description"]}}),(null===e||void 0===e||null===(s=e._source)||void 0===s?void 0:s["bibframe:note@notes"])&&Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:null===e||void 0===e||null===(r=e._source)||void 0===r?void 0:r["bibframe:note@notes"]}})]})}))})})]})]})})},I=function(e){var t=e.setShowModal,a=e.data;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-screen h-screen p-10 z-999999 bg-green bg-opacity-60",children:Object(m.jsxs)("div",{className:"relative w-full h-auto max-w-2xl max-h-full p-5 overflow-auto bg-white md:p-10",children:[Object(m.jsx)("p",{className:"text-xl mb-7",children:"RESOURCE DETAILS"}),Object(m.jsx)("div",{className:"absolute cursor-pointer right-6 top-6",onClick:function(e){return t(!1)},children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",className:"w-4"})}),Object(m.jsx)("div",{className:"",children:Object.keys(a).map((function(e,t){return Object(m.jsxs)(m.Fragment,{children:["string"===typeof a[e]&&"bibframe:datasource"!==e?Object(m.jsxs)("div",{className:"py-4 m-0 text-base break-words border-b border-gray-200",children:[e,":"," ",Object(m.jsx)("strong",{dangerouslySetInnerHTML:{__html:a[e]?a[e]:"--"}})]},t):"",Object(m.jsx)("div",{children:"object"===typeof a[e]?Object.keys(a[e]).map((function(t,l){return Object(m.jsxs)(m.Fragment,{children:["bibframe:datasource"!==t&&"string"===typeof a[e][t]?Object(m.jsxs)("p",{className:"py-4 m-0 text-base break-words border-b border-gray-200",children:[t,":"," ",Object(m.jsx)("strong",{dangerouslySetInnerHTML:{__html:a[e][t]}})]},l):"","bibframe:datasource"!==t&&"object"===typeof a[e][t]?Object.keys(a[e][t]).map((function(l,c){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("p",{className:"py-4 m-0 text-base break-words border-b border-gray-200",children:[l,":"," ",Object(m.jsx)("strong",{dangerouslySetInnerHTML:{__html:a[e][t][l]?a[e][t][l]:"--"}})]},c)})})):""]})})):""})]})}))})]})})})},D=function(e){var t=e.setShowDownload,a=e.single,c=e.showDownload,n=Object(l.useState)(!1),s=Object(i.a)(n,2),r=s[0],o=s[1];return Object(l.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.asianlegacylibrary.org/resources/download/".concat(a,"?format=txt&force_download=true"),e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status&&o(!0)})).catch((function(e){o(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[c]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-screen h-screen p-10 z-999999 bg-green bg-opacity-60",children:Object(m.jsxs)("div",{className:"relative w-full h-auto max-w-md max-h-full p-10 overflow-auto bg-white",children:[Object(m.jsx)("p",{className:"text-xl mb-7",children:"SELECT DOWNLOAD FORMAT"}),Object(m.jsx)("div",{className:"absolute cursor-pointer right-6 top-6",onClick:function(e){return t(!1)},children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg"),alt:"",className:"w-4"})}),Object(m.jsxs)("div",{className:"divide-y divide-gray-200 ",children:[Object(m.jsx)("p",{className:"m-0 ",children:Object(m.jsx)("a",{target:"_blank",className:"underline",href:"https://api.asianlegacylibrary.org/resources/download/".concat(a,"?format=json&force_download=true"),rel:"noreferrer",children:"Download JSON"})}),r&&Object(m.jsx)("p",{className:"py-3 m-0",children:Object(m.jsx)("a",{target:"_blank",className:"underline",href:"https://api.asianlegacylibrary.org/resources/download/".concat(a,"?format=txt&force_download=true"),rel:"noreferrer",children:"Download TXT"})})]})]})})})},R=function(e){var t=e.src,a=e.size,c=Object(l.useState)(0),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(l.useEffect)((function(){var e=new Request(t);fetch(e).then((function(e){r(e.status)}))}),[t]),Object(m.jsx)(m.Fragment,{children:200===s?Object(m.jsx)("iframe",{title:"Asian Legacy Library IIIF Viewer",width:"100%",height:"".concat("large"===a?"750px":"500px"),src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/uv-assets/dist/all-uv.html?manifest=")+t}):Object(m.jsx)("div",{className:"p-10 text-center text-white bg-black bg-opacity-90",children:Object(m.jsxs)("p",{className:"text-xl",children:["Scans still being processed. ",Object(m.jsx)("br",{}),"Please email"," ",Object(m.jsx)("a",{href:"mailto:librarian@asianlegacylibrary.org",className:"text-white underline",children:"librarian@asianlegacylibrary.org"})," ","for status"]})})})};var z=function(e){var t,a,c,n,s,r,o,d,u,b,g,p,j,h,v,f,y,O,w,k,_,C,F,T,z,H,M,q,B,P,Q,U,G,V,W,$,J,Y,K,X,Z,ee,te,ae,le,ce=e.match,ne=Object(l.useRef)(null),se=x(),re=se.singleData,ie=se.setSingle,oe=se.isLoading,de=se.single,ue=se.globalSearch,be=se.setGlobalSearch,me=se.fetchURL,ge=se.getSingleView,pe=ce.params.id,xe=Object(l.useState)("Copy"),je=Object(i.a)(xe,2),he=je[0],ve=je[1],fe=Object(l.useState)(-1),ye=Object(i.a)(fe,2),Oe=ye[0],we=ye[1];Object(l.useEffect)((function(){pe&&(be(""),ie(pe))}),[pe]);var Ne=document.querySelector(".h-50vh");function ke(e){if(e){var t=e.replaceAll(/^(@\w+)\s/g,"<br/><strong>$1</strong> ").replaceAll(/\s(@\w+)\s/g,"<br/><strong>$1</strong><br/>");return t=(t=(t=t.replaceAll("<em>".concat(ue.toUpperCase(),"</em>"),'<em class="bg-gray-300">'.concat(ue.toUpperCase(),"</em>"))).replaceAll("<em>".concat(ue.toLowerCase(),"</em>"),'<em class="bg-gray-300">'.concat(ue.toLowerCase(),"</em>"))).replaceAll("<em>".concat(ue,"</em>"),'<em class="bg-gray-300">'.concat(ue,"</em>"))}}Object(l.useEffect)((function(){be("")}),[]);var Se=re[0],_e=Object(l.useState)(!1),Ce=Object(i.a)(_e,2),Fe=Ce[0],Te=Ce[1],Le=Object(l.useState)(!1),Ee=Object(i.a)(Le,2),Ae=Ee[0],Ie=Ee[1],De=function(e,t){var a=Object(l.useState)(e),c=Object(i.a)(a,2),n=c[0],s=c[1];return Object(l.useEffect)((function(){var a=setTimeout((function(){s(e)}),t);return function(){clearTimeout(a)}}),[e]),n}(ue,300);return Object(l.useEffect)((function(){document.querySelector("html").scroll({top:0,behavior:"smooth"})}),[]),Object(l.useEffect)((function(){document.querySelector("html").scroll({top:0,behavior:"smooth"})}),[de]),Object(l.useEffect)((function(){we(-1),ge()}),[De]),Object(l.useEffect)((function(){if(S=document.querySelectorAll(".resource-search em"),document.querySelectorAll(".resource-search")&&-1!==Oe&&S.length>0&&Oe<S.length&&Oe>=0){S.forEach((function(e){return e.style.fontWeight="400"})),S[Oe].style.fontWeight="bold";var e=S[Oe].getBoundingClientRect().top-Ne.getBoundingClientRect().top+Ne.scrollTop;Ne.scroll({top:e,behavior:"smooth"})}}),[Oe,De,de]),Object(m.jsxs)(m.Fragment,{children:[oe&&Object(m.jsx)("div",{className:"fixed top-0 left-0 z-40 flex items-center justify-center w-full h-screen text-2xl text-center bg-white bg-opacity-90",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/loader.svg"),className:"block w-10 mx-auto",alt:""})," ","Loading..."]})}),Object(m.jsx)("div",{className:"px-4 py-5 bg-yellow-light ",children:Object(m.jsxs)("div",{className:"mx-auto max-w-7xl",children:[Object(m.jsxs)(N.b,{to:"/",className:"inline-block text-sm cursor-pointer",children:["Back to ",me?"results":"search"]}),Object(m.jsx)("div",{className:"mt-5 mb-3 md:mt-12",children:Object(m.jsxs)("div",{className:"grid md:grid-cols-12",children:[Object(m.jsx)("div",{className:"md:col-span-7",children:(null===Se||void 0===Se||null===(t=Se._source)||void 0===t?void 0:t["bibframe:maintitle"])&&Object(m.jsx)("h3",{className:"pl-0 m-0 text-xl md:text-3xl md:leading-9",dangerouslySetInnerHTML:{__html:ke((null===Se||void 0===Se||null===(a=Se._source)||void 0===a?void 0:a["bibframe:maintitle"])||"--")}})}),Object(m.jsxs)("div",{className:"mt-5 md:pl-8 md:mt-0 md:col-span-5",children:[Object(m.jsx)("p",{className:"mb-1 text-sm text-gray-500 uppercase md:text-lg",children:"AUTHOR"}),Object(m.jsx)("p",{className:"text-sm md:text-xl md:leading-8",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se||null===(c=Se._source)||void 0===c?void 0:c["bibframe:person"])||"--"}})," "]})]})})]})}),Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)(L,{}),Object(m.jsxs)("div",{className:"px-4 mx-auto mt-0 max-w-7xl ",children:[(null===Se||void 0===Se||null===(n=Se._source)||void 0===n||null===(s=n["all:items"])||void 0===s?void 0:s["bibframe:datasource"])&&Object(m.jsx)("div",{className:"flex items-center justify-start mb-10",children:Object(m.jsxs)("div",{className:"relative w-full max-w-md",children:[Object(m.jsx)("input",{className:"w-full px-0 py-2 text-base border-b-2 border-gray-400 border-solid focus:outline-none focus:ring-0 focus:",type:"search",placeholder:"Search..",onChange:function(e){var t;be(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},value:ue}),Object(m.jsx)("div",{className:"absolute right-0 top-1.5 bg-white",children:Object(m.jsxs)("div",{className:"flex items-center p-3 pr-0 space-x-3 bg-white ",children:[Object(m.jsxs)("a",{href:"#!",className:"relative inline-block w-4 transform rotate-180 cursor-pointer group",onClick:function(e){e.preventDefault(),Oe>0&&we(Oe-1)},children:[Object(m.jsx)("div",{className:"absolute p-1 px-2 text-xs text-white transition-all transform -rotate-180 -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -bottom-8 group-hover:opacity-100",children:"Previous"}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),alt:"",className:"w-4"})]})," ",Object(m.jsxs)("a",{href:"#!",onClick:function(e){e.preventDefault(),Oe<S.length&&we(Oe+1)},className:"relative inline-block w-4 cursor-pointer group",children:[Object(m.jsx)("div",{className:"absolute p-1 px-2 text-xs text-white transition-all transform -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -top-8 group-hover:opacity-100",children:"Next"}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),alt:"",className:"w-4"})]})]})})]})}),Object(m.jsxs)("div",{className:"grid md:grid-cols-12",children:[!(null===Se||void 0===Se||null===(r=Se._source)||void 0===r||null===(o=r["all:items"])||void 0===o?void 0:o["bibframe:datasource"])&&!(null===Se||void 0===Se||null===(d=Se._source)||void 0===d||null===(u=d["all:items"])||void 0===u?void 0:u["bibframe:electroniclocator"])&&(null===Se||void 0===Se||null===(b=Se._source)||void 0===b?void 0:b["bibframe:varianttitle@colophon"])&&Object(m.jsxs)("div",{className:"mb-8 md:col-span-12",children:[Object(m.jsxs)("p",{className:"mb-1 text-base text-gray-500",children:["varianttitle@colophon:"," "]}),Object(m.jsx)("div",{className:"block text-base break-words whitespace-pre-line resource-search",dangerouslySetInnerHTML:{__html:ke(null===Se||void 0===Se||null===(g=Se._source)||void 0===g?void 0:g["bibframe:varianttitle@colophon"])}})]}),Object(m.jsxs)("div",{className:"".concat((null===Se||void 0===Se||null===(p=Se._source)||void 0===p||null===(j=p["all:items"])||void 0===j?void 0:j["bibframe:datasource"])||(null===Se||void 0===Se||null===(h=Se._source)||void 0===h||null===(v=h["all:items"])||void 0===v?void 0:v["bibframe:electroniclocator"])?"md:col-span-7":"md:col-span-12"),children:[(null===Se||void 0===Se||null===(f=Se._source)||void 0===f||null===(y=f["all:items"])||void 0===y?void 0:y["bibframe:datasource"])&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-6 overflow-x-hidden overflow-y-auto md:h-page h-50vh md:mb-14 ",ref:ne,children:Object(m.jsx)("div",{className:"block leading-7 break-words whitespace-pre-line md:leading-8 md:text-lg resource-search",dangerouslySetInnerHTML:{__html:ke(null===Se||void 0===Se||null===(O=Se._source)||void 0===O||null===(w=O["all:items"])||void 0===w?void 0:w["bibframe:datasource"])}})}),Object(m.jsxs)("div",{className:"flex items-center justify-center mb-6 md:space-x-14 space-x-7 md:mb-14",children:[Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_page_end.svg"),onClick:function(){Ne.scroll({top:Ne.scrollTop-Ne.scrollHeight,behavior:"smooth"})},alt:"",className:"cursor-pointer "}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),onClick:function(){Ne.scroll({top:Ne.scrollTop+150,behavior:"smooth"})},alt:"",className:"cursor-pointer "}),Object(m.jsx)("img",{onClick:function(){Ne.scroll({top:Ne.scrollTop-150,behavior:"smooth"})},src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg"),alt:"",className:"inline-block transform rotate-180 cursor-pointer"}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_page_end.svg"),alt:"",onClick:function(){Ne.scroll({top:Ne.scrollHeight,behavior:"smooth"})},className:"inline-block transform rotate-180 cursor-pointer"})]})]}),!(null===Se||void 0===Se||null===(k=Se._source)||void 0===k||null===(_=k["all:items"])||void 0===_?void 0:_["bibframe:datasource"])&&(null===Se||void 0===Se||null===(C=Se._source)||void 0===C||null===(F=C["all:items"])||void 0===F?void 0:F["bibframe:electroniclocator"])?Object(m.jsx)(R,{size:"large",src:"".concat(null===Se||void 0===Se||null===(T=Se._source)||void 0===T||null===(z=T["all:items"])||void 0===z?void 0:z["bibframe:electroniclocator"])}):""]}),Object(m.jsxs)("div",{className:"".concat((null===Se||void 0===Se||null===(H=Se._source)||void 0===H||null===(M=H["all:items"])||void 0===M?void 0:M["bibframe:datasource"])||(null===Se||void 0===Se||null===(q=Se._source)||void 0===q||null===(B=q["all:items"])||void 0===B?void 0:B["bibframe:electroniclocator"])?"md:col-span-5 pt-7 md:pl-14":"md:col-span-12 pt-7"),children:[Object(m.jsxs)("p",{className:"flex items-center uppercase md:text-xl ",children:["ABOUT THIS RESOURCE"," ",Object(m.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),Te(!0)},className:"inline-block ml-3 text-xs underline capitalize text-green",children:"See Resource Details"})]})," ",Fe&&Object(m.jsx)(I,{setShowModal:Te,data:null===Se||void 0===Se?void 0:Se._source}),Ae&&Object(m.jsx)(D,{single:de,showDownload:Ae,setShowDownload:Ie}),Object(m.jsxs)("div",{className:"flex items-center my-5 space-x-7",children:[Object(m.jsx)("span",{className:"inline-block cursor-pointer",onClick:function(e){return Ie(!0)},children:Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/download.svg"),alt:""})}),Object(m.jsxs)("span",{className:"relative inline-block cursor-pointer group",onClick:function(e){e.preventDefault();var t=document.createElement("input"),a=window.location.href;document.body.appendChild(t),t.value=a,t.select(),document.execCommand("copy"),document.body.removeChild(t),ve("Copied!"),setTimeout((function(){ve("Copy")}),2e3)},children:[Object(m.jsx)("div",{className:"absolute p-1 px-2 text-xs text-white transition-all transform -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -top-6 group-hover:opacity-100",children:he}),Object(m.jsx)("img",{src:"".concat("https://asianlegacylibrary.org/","wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/link.svg"),alt:""})]})]}),Object(m.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm text-gray-500 mb-2.5",children:"Source Library"}),Object(m.jsx)("p",{className:"text-base text-black ",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se||null===(P=Se._source)||void 0===P?void 0:P["bibframe:source"])||"--"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm text-gray-500 mb-2.5",children:"Collection"}),Object(m.jsx)("p",{className:"text-base text-black ",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se||null===(Q=Se._source)||void 0===Q?void 0:Q["bibframe:collection@acip"])||"--"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm text-gray-500 mb-2.5",children:"Resource ID"}),Object(m.jsx)("p",{className:"text-base text-black",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se?void 0:Se._id)||"--"}})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm text-gray-500 mb-2.5",children:"Asset Type"}),Object(m.jsx)("p",{className:"text-base text-black capitalize",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se||null===(U=Se._source)||void 0===U||null===(G=U["all:items"])||void 0===G?void 0:G["all:assettype"])||"--"}})]})," ",Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-sm text-gray-500 mb-2.5",children:"Digital Rights"}),Object(m.jsx)("p",{className:"text-base text-black capitalize",dangerouslySetInnerHTML:{__html:(null===Se||void 0===Se||null===(V=Se._source)||void 0===V||null===(W=V["all:items"])||void 0===W?void 0:W["all:digitalrights"])||"--"}})]})]}),(null===Se||void 0===Se||null===($=Se._source)||void 0===$||null===(J=$["all:items"])||void 0===J?void 0:J["bibframe:electroniclocator"])&&(null===Se||void 0===Se||null===(Y=Se._source)||void 0===Y||null===(K=Y["all:items"])||void 0===K?void 0:K["bibframe:datasource"])?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"mt-24 mb-5 text-lg uppercase",children:"SCAN GALLERY VIEW"}),Object(m.jsx)("div",{className:"relative w-full bg-cover",children:Object(m.jsx)(R,{src:"".concat(null===Se||void 0===Se||null===(X=Se._source)||void 0===X||null===(Z=X["all:items"])||void 0===Z?void 0:Z["bibframe:electroniclocator"])})})]}):""]})]})]})]}),(null===Se||void 0===Se||null===(ee=Se._source)||void 0===ee?void 0:ee["all:relatedworks"])&&Object(m.jsx)(E,{relatedworks:null===Se||void 0===Se||null===(te=Se._source)||void 0===te?void 0:te["all:relatedworks"]}),(null===Se||void 0===Se||null===(ae=Se._source)||void 0===ae?void 0:ae["bibframe:source"])&&Object(m.jsx)(A,{lib:null===Se||void 0===Se||null===(le=Se._source)||void 0===le?void 0:le["bibframe:source"]})]})},H=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(T,{})]})};var M=function(){return Object(l.useEffect)((function(){document.querySelector("body").classList.add("lib-plugin-page")}),[]),Object(m.jsxs)(y.c,{children:[Object(m.jsx)(y.a,{exact:!0,path:"/",component:H}),Object(m.jsx)(y.a,{path:"/resource/:id",component:z})]})};a(35);var q=function(){return Object(m.jsx)(p,{children:Object(m.jsx)(M,{})})};s.a.render(Object(m.jsx)(N.a,{children:Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.1f7a7d65.chunk.js.map