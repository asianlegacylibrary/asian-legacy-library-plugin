{"version":3,"sources":["context/apiContext.js","components/Search/subjectTree.js","components/Search/queryBuilder.js","components/Search/recent-search.js","components/Search/index.js","components/SearchResult/dataNotFound.js","components/SearchResult/collections.js","components/SearchResult/searchItem.js","components/SingleResult/index.js","components/SearchResult/pagination.js","components/SearchResult/filters.js","components/SearchResult/index.js","components/SingleResult/navigation.js","components/SingleResult/RelatedResources.js","components/SingleResult/AboutSourceLib.js","components/SingleResult/MetaData.js","components/SingleResult/Download.js","components/SingleResult/iiif.js","components/Result/index.js","App.js","index.js"],"names":["APIContext","createContext","APIContextProvider","children","useState","init","setInit","data","setData","aggregations","setAggregations","isLoading","setIsLoading","searchQuery","setSearchQuery","recentSearch","setRecentSearch","searchField","setSearchField","showAdvanceSearch","setShowAdvanceSearch","fetchURL","setFetchURL","languageFilter","setLanguageFilter","assetsFilter","setAssetsFilter","subjectTree","setSubjectTree","sourceFilter","setSourceFilter","collectionFilter","setCollectionFilter","collectionRamachandraFilter","setCollectionRamachandraFilter","authorFilter","setAuthorFilter","treeLanguage","setTreeLanguage","filterTree","setFilterTree","val","activeOperators","setActiveOperators","values","setValues","hasQuery","setHasQuery","nearThat","setNearThat","nearBy","setNearBy","totalRecord","setTotalRecord","activePage","setActivePage","single","setSingle","relatedResources","setRelatedResources","globalSearch","setGlobalSearch","allResources","setAllResources","singleData","setSingleData","sourceLibraries","setSourceLibraries","collections","setCollections","fetchData","a","url","indexOf","length","forEach","item","index","notStr","orStr","andStr","map","filter","join","fetch","method","headers","resp","json","hits","total","value","localStorage","getItem","item1","item2","item3","setItem","document","querySelector","scrollIntoView","behavior","block","inline","getSingleView","console","log","status","replace","Math","ceil","resp1","json1","arr","push","_id","useEffect","SubjectTree","getSubjectTree","TermsListing","getSourceLibraries","getCollections","Provider","pageSize","useAPI","context","useContext","undefined","Error","branch1","branch2","branch3","branch4","branch5","filterTreefn","active","setActive","open","acitve","firstBranch","setfirstBranch","secondBranch","setSecondBranch","thirdBranch","setThirdBranch","fourthBranch","setFourthBranch","scrollHoriz","setTimeout","scroll","top","left","className","Object","keys","htmlFor","type","id","onChange","e","target","checked","src","process","alt","i","QueryBuilder","showOperatorsMenu","setShowOperatorsMenu","handleChange","event","vals","this","handleActiveOperators","p","el","onClick","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","placeholder","max","min","onBlur","class","bind","preventDefault","operators","splice","removeClick","href","RecentSearch","stopPropagation","Search","showRecentSearch","setShowRecentSearch","showLanguages","setShowLanguages","setRemoveClick","setBranch1","setBranch2","setBranch3","setBranch4","setBranch5","updateFilters","slug","b","style","backgroundImage","onKeyDown","key","readOnly","onFocus","substring","DataNotFound","Collections","cleanChar","String","replaceAll","allFindings","SearchItem","to","dangerouslySetInnerHTML","__html","highlight","_source","Pagination","trimPagination","totalPages","Array","fill","Filters","author","assettype","language","source","collection_acip","collection_ramachandra","showFilter","setShowFilter","showAssets","setShowAssets","showLangugae","setShowLangugae","showSourceLib","setShowSourceLib","showCollection","setShowCollection","showCollectionRamachandra","setShowCollectionRamachandra","ShowAuthor","setShowAuthor","buckets","copy","filterAssets","Number","doc_count","toLocaleString","filterLanguage","name","filterSource","filterCollection","filterCollectionRamachandra","filterAuthor","SearchResult","Navigation","iiifUrl","size","current","setCurrent","RelatedResources","relatedworks","getResource","AboutSourceLib","lib","MetaData","setShowModal","keyName","keyIndex","subitem","subindex","Download","setShowDownload","showDownload","hasTxt","setHasTxt","then","catch","error","getDownload","rel","IIIF","setStatus","myRequest","Request","response","title","width","height","SingleResult","match","myRef","useRef","params","copyState","setCopyState","position","setPosition","elem","toUpperCase","toLowerCase","showModal","debouncedQuery","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","useDebounce","querySelectorAll","fontWeight","diff","getBoundingClientRect","scrollTop","ref","scrollHeight","dummy","createElement","text","window","location","body","appendChild","select","execCommand","removeChild","Main","Result","classList","add","exact","path","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f7a7d65.chunk.js","sourcesContent":["import React, { useContext, useState, useEffect, createContext } from 'react';\n\nconst APIContext = createContext();\n\nexport const useDebounce = function (value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n\n        return () => {\n            clearTimeout(handler);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value]);\n\n    return debouncedValue;\n};\n\nfunction APIContextProvider({ children }) {\n    // eslint-disable-next-line no-unused-vars\n    //Entry Search states\n    const [init, setInit] = useState(false);\n    const [data, setData] = useState([]);\n    const [aggregations, setAggregations] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [recentSearch, setRecentSearch] = useState([]);\n    const [searchField, setSearchField] = useState('');\n    const [showAdvanceSearch, setShowAdvanceSearch] = useState(-1);\n    const [fetchURL, setFetchURL] = useState('');\n\n    //Filter states\n    const [languageFilter, setLanguageFilter] = useState([]);\n    const [assetsFilter, setAssetsFilter] = useState([]);\n    const [subjectTree, setSubjectTree] = useState([]);\n    const [sourceFilter, setSourceFilter] = useState('');\n    const [collectionFilter, setCollectionFilter] = useState('');\n    const [collectionRamachandraFilter, setCollectionRamachandraFilter] =\n        useState('');\n    const [authorFilter, setAuthorFilter] = useState([]);\n\n    // Advance filter states\n    const [treeLanguage, setTreeLanguage] = useState('');\n    const [filterTree, setFilterTree] = useState([]);\n    const [activeOperators, setActiveOperators] = useState({ val: [] });\n    const [values, setValues] = useState({ val: [] });\n    const [hasQuery, setHasQuery] = useState(false);\n    // const [nearThis, setNearThis] = useState('');\n    const [nearThat, setNearThat] = useState('');\n    const [nearBy, setNearBy] = useState(4);\n\n    // Pagination states\n    const [totalRecord, setTotalRecord] = useState(0);\n    const [activePage, setActivePage] = useState(1);\n    const pageSize = 10;\n\n    //Single page\n    const [single, setSingle] = useState();\n    const [relatedResources, setRelatedResources] = useState([]);\n    const [globalSearch, setGlobalSearch] = useState('');\n    const [allResources, setAllResources] = useState([]);\n    const [singleData, setSingleData] = useState([]);\n\n    //Source Libraries\n    const [sourceLibraries, setSourceLibraries] = useState([]);\n\n    //Collections\n    const [collections, setCollections] = useState([]);\n\n    /**\n     * Build subject tree on advance filter\n     **/\n    useEffect(() => {\n        async function getSubjectTree() {\n            setIsLoading(true);\n            let url = `https://api.asianlegacylibrary.org/resources/subjecttree?language=${treeLanguage}`;\n\n            const resp = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            const json = await resp.json();\n            setSubjectTree(json?.SubjectTree || []);\n\n            setIsLoading(false);\n        }\n        if (showAdvanceSearch === 1 && treeLanguage !== '') {\n            getSubjectTree();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [showAdvanceSearch, treeLanguage]);\n\n    /**\n     *   Set blank cookie for recent searches\n     **/\n    useEffect(() => {\n        let item1 = localStorage.getItem('recentSearch1');\n        let item2 = localStorage.getItem('recentSearch2');\n        let item3 = localStorage.getItem('recentSearch3');\n\n        /** \n         //set initial cookie\n        **/\n        if (item1 === null || item1 === '') {\n            localStorage.setItem('recentSearch1', '');\n        }\n        if (item2 === null || item2 === '') {\n            localStorage.setItem('recentSearch2', '');\n        }\n        if (item3 === null || item3 === '') {\n            localStorage.setItem('recentSearch3', '');\n        }\n        setRecentSearch([item1, item2, item3]);\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [init]);\n\n    /**\n     * Fetch data\n     **/\n    async function fetchData() {\n        setInit(true);\n        if (isLoading) {\n            return;\n        }\n\n        setIsLoading(true);\n        setAllResources([]);\n        setShowAdvanceSearch(-1);\n        let url;\n        if (activeOperators.val.indexOf('near') === -1) {\n            url = `https://api.asianlegacylibrary.org/resources?q=${searchQuery}`;\n        } else {\n            url = `https://api.asianlegacylibrary.org/resources?q=`;\n        }\n\n        //Build near query string\n        setHasQuery(false);\n        if (values.val.length > 0 && activeOperators.val.length > 0) {\n            let notStr;\n            let orStr;\n            let andStr;\n            if (activeOperators.val.indexOf('near') !== -1) {\n                activeOperators.val.forEach((item, index) => {\n                    if (item === 'near') {\n                        notStr = `,near(${searchQuery}:${nearThat})~${nearBy}`;\n                        url = url + notStr;\n                    }\n                });\n            } else {\n                activeOperators.val.forEach((item, index) => {\n                    if (item === 'not') {\n                        notStr = `,-(${values.val[index]})`;\n                        url = url + notStr;\n                    }\n\n                    if (item === 'or') {\n                        orStr = ` or (${values.val[index]})`;\n                        url = url + orStr;\n                    }\n\n                    if (item === 'and') {\n                        andStr = `,(${values.val[index]})`;\n                        url = url + andStr;\n                    }\n                });\n            }\n            setHasQuery(true);\n        }\n\n        url =\n            url +\n            `&page_size=${pageSize}&include_data=true&search_fields=${searchField}&page=${activePage}&highlights=true&include_aggs=author,assettype,language,source,collection_acip,collection_ramachandra`;\n\n        //Update URL parameter\n        if (\n            authorFilter.length > 0 ||\n            languageFilter.length > 0 ||\n            assetsFilter.length > 0 ||\n            filterTree.length > 0 ||\n            sourceFilter.length > 0 ||\n            collectionFilter.length > 0 ||\n            collectionRamachandraFilter.length > 0\n        ) {\n            url = url + `&filter=`;\n        }\n\n        //Update URL for language filter\n        if (languageFilter.length > 0) {\n            url = url + languageFilter.map((filter) => `${filter}`).join(',');\n        }\n\n        //Update URL for assets filter\n        if (assetsFilter.length > 0) {\n            if (languageFilter.length > 0) {\n                url = url + `,`;\n            }\n            if (\n                assetsFilter.length === 1 &&\n                assetsFilter.indexOf('items:exists') !== -1\n            ) {\n                url = url + 'items:-exists';\n            } else {\n                url = url + assetsFilter.map((item) => `${item}`).join(',');\n            }\n        }\n\n        //Update URL for author filter\n        if (authorFilter.length > 0) {\n            if (languageFilter.length > 0 || assetsFilter.length > 0) {\n                url = url + `,`;\n            }\n            url =\n                url +\n                `${authorFilter.map((item) => `author:(${item})`).join(',')}`;\n        }\n\n        //Updating URL for Source Libraries\n        if (sourceFilter) {\n            if (\n                languageFilter.length > 0 ||\n                assetsFilter.length ||\n                authorFilter.length > 0\n            ) {\n                url = url + `,`;\n            }\n            url = url + `source:${sourceFilter}`;\n        }\n\n        //Updating URL for collections\n        if (collectionFilter) {\n            if (\n                languageFilter.length > 0 ||\n                authorFilter.length > 0 ||\n                assetsFilter.length ||\n                sourceFilter.length > 0\n            ) {\n                url = url + `,`;\n            }\n            url = url + `collection_acip:${collectionFilter}`;\n        }\n        //Updating URL for collections  Ramachandra\n        if (collectionRamachandraFilter.length > 0) {\n            if (\n                languageFilter.length > 0 ||\n                authorFilter.length > 0 ||\n                assetsFilter.length ||\n                sourceFilter.length > 0 ||\n                collectionFilter.length > 0\n            ) {\n                url = url + `,`;\n            }\n            url = url + `collection_ramachandra:${collectionRamachandraFilter}`;\n        }\n\n        //Updating URL for Subject tree\n        if (filterTree.length > 0) {\n            if (\n                languageFilter.length > 0 ||\n                authorFilter.length > 0 ||\n                assetsFilter.length ||\n                sourceFilter.length > 0 ||\n                collectionFilter.length > 0 ||\n                collectionRamachandraFilter.length > 0\n            ) {\n                url = url + `,`;\n            }\n\n            url =\n                url +\n                `subjecttree${treeLanguage === 'en' ? '_eng' : ''}:${filterTree\n                    .map((item) => `${item}`)\n                    .join('/')}`;\n        }\n\n        //Appending value to url on blank search\n        if (searchQuery === '') {\n            url = url + `&class=works`;\n        }\n        const resp = await fetch(url, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        const json = await resp.json();\n        setData(json?.hits || []);\n        setAggregations(json?.aggregations || []);\n\n        setTotalRecord(json?.total?.value || 0);\n        setFetchURL(url);\n        setIsLoading(false);\n\n        // Update cookie\n        if (\n            searchQuery.length > 0 &&\n            (localStorage.getItem('recentSearch1') !== searchQuery ||\n                localStorage.getItem('recentSearch1') === '')\n        ) {\n            let item1 = localStorage.getItem('recentSearch1');\n            let item2 = localStorage.getItem('recentSearch2');\n            let item3 = localStorage.getItem('recentSearch3');\n            localStorage.setItem('recentSearch3', item2 ? item2 : '');\n            localStorage.setItem('recentSearch2', item1 ? item1 : '');\n            localStorage.setItem('recentSearch1', searchQuery);\n            setRecentSearch([item1, item2, item3]);\n        }\n\n        //Scroll to top\n        if (document.querySelector('.search-bar')) {\n            document.querySelector('.search-bar').scrollIntoView({\n                behavior: 'smooth',\n                block: 'end',\n                inline: 'nearest'\n            });\n        }\n    }\n\n    // Fetch data filter change\n    useEffect(() => {\n        if (\n            filterTree.length > 0 ||\n            values.val.length > 0 ||\n            authorFilter.length > 0 ||\n            assetsFilter.length > 0 ||\n            data.length > 0\n        ) {\n            fetchData();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        languageFilter,\n        assetsFilter,\n        searchField,\n        authorFilter,\n        sourceFilter,\n        collectionFilter,\n        collectionRamachandraFilter\n    ]);\n\n    // Fetch data on page change\n    useEffect(() => {\n        if (init) {\n            fetchData();\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [activePage]);\n\n    // Get single view\n    async function getSingleView() {\n        if (isLoading || !single) {\n            return;\n        }\n\n        setIsLoading(true);\n\n        let url = `https://api.asianlegacylibrary.org/resources/${single}/search/v2/?q=`;\n        if (searchQuery) {\n            if (activeOperators.val.indexOf('or') !== -1) {\n                url = url + `(${searchQuery}`;\n            } else {\n                url = url + searchQuery;\n            }\n        }\n\n        if (values.val.length > 0 && activeOperators.val.length > 0) {\n            let notStr;\n            let orStr;\n            let andStr;\n            if (searchQuery && activeOperators.val.indexOf('or') === -1) {\n                url = url + ',';\n            }\n            if (activeOperators.val.indexOf('near') !== -1) {\n                activeOperators.val.forEach((item, index) => {\n                    if (item === 'near') {\n                        notStr = `near(${searchQuery}:${nearThat})~${nearBy}`;\n                        url = url + notStr;\n                    }\n                });\n            } else {\n                activeOperators.val.forEach((item, index) => {\n                    if (item === 'not') {\n                        notStr = `-(${values.val[index]})`;\n                        url = url + notStr;\n                    }\n\n                    if (item === 'or') {\n                        orStr = ` or (${values.val[index]})`;\n                        url = url + orStr;\n                        if (searchQuery) {\n                            url = url + `)`;\n                        }\n                    }\n\n                    if (item === 'and') {\n                        andStr = `(${values.val[index]})`;\n                        url = url + andStr;\n                    }\n                });\n            }\n        }\n        if (globalSearch) {\n            if (searchQuery) {\n                url = url + ',';\n            }\n            url = url + globalSearch;\n        }\n        const resp = await fetch(url, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        console.log(url);\n        if (resp.status === 200) {\n            const json = await resp.json();\n\n            setRelatedResources([]);\n            setSingleData(json?.hits || []);\n        } else {\n            setIsLoading(false);\n            return;\n        }\n\n        if (allResources.length === 0) {\n            //Fetch 200 records for navigation\n            if (fetchURL) {\n                url = fetchURL.replace('page_size=10', 'page_size=200');\n                url = url.replace('highlights=true', 'highlights=false');\n                url = url.replace(\n                    `page=${activePage}`,\n                    `page=${activePage > 20 ? Math.ceil(activePage / 20) : 1}`\n                );\n                url = url.replace('include_data=true', 'include_data=false');\n            } else {\n                // console.log('else');\n                url = `https://api.asianlegacylibrary.org/resources?q=&page_size=200`;\n            }\n            // console.log('made call here', url);\n            const resp1 = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            const json1 = await resp1.json();\n            if (json1?.hits?.length !== 0) {\n                let arr = [];\n                json1?.hits?.forEach((item, index) => arr.push(item?._id));\n                setAllResources(arr);\n            }\n        }\n\n        setIsLoading(false);\n    }\n    useEffect(() => {\n        if (single) {\n            getSingleView();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [single]);\n\n    // Get Source Libraries\n    useEffect(() => {\n        async function getSourceLibraries() {\n            let url = `https://api.asianlegacylibrary.org/resources/summarize?agg_field=source`;\n\n            const resp = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            const json = await resp.json();\n            setSourceLibraries(json?.TermsListing || []);\n        }\n        if (sourceLibraries.length === 0) {\n            getSourceLibraries();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // Get Collections\n    useEffect(() => {\n        async function getCollections() {\n            let url = `https://api.asianlegacylibrary.org/resources/summarize?agg_field=collection_acip`;\n\n            const resp = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            const json = await resp.json();\n            setCollections(json?.TermsListing || []);\n        }\n        if (collections.length === 0) {\n            getCollections();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <APIContext.Provider\n            value={{\n                data,\n                isLoading,\n                searchQuery,\n                totalRecord,\n                activePage,\n                pageSize,\n                recentSearch,\n                languageFilter,\n                single,\n                singleData,\n                assetsFilter,\n                showAdvanceSearch,\n                subjectTree,\n                filterTree,\n                activeOperators,\n                values,\n                relatedResources,\n                treeLanguage,\n                sourceLibraries,\n                collections,\n                searchField,\n                globalSearch,\n                allResources,\n                aggregations,\n                // nearThis,\n                // setNearThis,\n                nearThat,\n                setNearThat,\n                nearBy,\n                setNearBy,\n                setAuthorFilter,\n                authorFilter,\n                setAggregations,\n                setGlobalSearch,\n                setAllResources,\n                setSearchField,\n\n                setSourceLibraries,\n                setTreeLanguage,\n                setRelatedResources,\n                setValues,\n                setActiveOperators,\n                setFilterTree,\n                setShowAdvanceSearch,\n                setAssetsFilter,\n                setSingleData,\n                setSingle,\n                setLanguageFilter,\n                setIsLoading,\n                setSearchQuery,\n                setActivePage,\n                fetchData,\n                setData,\n                init,\n                setInit,\n                fetchURL,\n                setSubjectTree,\n                sourceFilter,\n                setSourceFilter,\n                setHasQuery,\n                hasQuery,\n                setCollectionFilter,\n                collectionFilter,\n                getSingleView,\n                collectionRamachandraFilter,\n                setCollectionRamachandraFilter\n            }}\n        >\n            {children}\n        </APIContext.Provider>\n    );\n}\n\nexport default APIContextProvider;\n\nexport function useAPI() {\n    const context = useContext(APIContext);\n    if (context === undefined) {\n        throw new Error('Context must be used within a Provider');\n    }\n    return context;\n}\n","import React, { useEffect, useState } from 'react';\nimport { useAPI } from '../../context/apiContext';\n\nconst SubjectTree = ({\n    branch1,\n    branch2,\n    branch3,\n    branch4,\n    branch5,\n    filterTreefn\n}) => {\n    const { subjectTree, setFilterTree, treeLanguage } = useAPI();\n    const [active, setActive] = useState('');\n\n    // States for subject tree branch\n    const [firstBranch, setfirstBranch] = useState({\n        open: false,\n        data: '',\n        acitve: ''\n    });\n    const [secondBranch, setSecondBranch] = useState({\n        open: false,\n        data: '',\n        acitve: ''\n    });\n    const [thirdBranch, setThirdBranch] = useState({\n        open: false,\n        data: '',\n        acitve: ''\n    });\n    const [fourthBranch, setFourthBranch] = useState({\n        open: false,\n        data: '',\n        acitve: ''\n    });\n    // reseting states on init\n    useEffect(() => {\n        setfirstBranch({\n            open: false,\n            data: '',\n            acitve: ''\n        });\n        setSecondBranch({\n            open: false,\n            data: '',\n            acitve: ''\n        });\n        setThirdBranch({\n            open: false,\n            data: '',\n            acitve: ''\n        });\n        setFourthBranch({\n            open: false,\n            data: '',\n            acitve: ''\n        });\n        setFilterTree([]);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [treeLanguage]);\n\n    function scrollHoriz() {\n        setTimeout(() => {\n            document.querySelector('.subject-tree').scroll({\n                top: 0,\n                left: 500,\n                behavior: 'smooth'\n            });\n        }, 100);\n    }\n\n    // function filterTreefn(slug) {\n    //     const index = filterTree.indexOf(slug);\n\n    //     if (index === -1) {\n    //         setFilterTree([...filterTree, slug]);\n    //     } else {\n    //         const copy = [...filterTree];\n    //         copy.splice(index, 1);\n    //         setFilterTree(copy);\n    //     }\n    // }\n\n    return (\n        <div className=\"relative flex overflow-auto bg-white h-96 subject-tree\">\n            <div className=\"w-1/2 space-y-4 sm:w-1/4 sm:min-w-1/4 min-w-1/2\">\n                {subjectTree &&\n                    Object.keys(subjectTree).map((item, index) => (\n                        <>\n                            <label\n                                htmlFor={`0` + item}\n                                key={index}\n                                className=\"flex items-center justify-between cursor-pointer\"\n                            >\n                                <div\n                                    key={index}\n                                    className=\"relative flex items-center group\"\n                                >\n                                    <input\n                                        type=\"checkbox\"\n                                        id={`0` + item}\n                                        onChange={(e) => {\n                                            filterTreefn(item, 1);\n                                            setFourthBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setThirdBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setSecondBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setfirstBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setfirstBranch({\n                                                open: e.target.checked,\n                                                data: subjectTree[item]\n                                            });\n                                            setActive(item);\n                                            document\n                                                .querySelector('.subject-tree')\n                                                .scroll({\n                                                    top: 0,\n                                                    behavior: 'smooth'\n                                                });\n                                            scrollHoriz();\n                                        }}\n                                        checked={\n                                            branch1 === item ? true : false\n                                        }\n                                        className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                    />\n                                    <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                        {item}\n                                    </span>\n                                    <span\n                                        className={`text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24  ${\n                                            active !== item\n                                                ? 'text-gray-500'\n                                                : 'text-black'\n                                        } `}\n                                    >\n                                        {item}\n                                    </span>\n                                </div>\n                                {typeof subjectTree[item] === 'object' && (\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg`}\n                                        className=\"opacity-50\"\n                                        alt=\"\"\n                                    />\n                                )}\n                            </label>\n                        </>\n                    ))}\n            </div>\n\n            <div\n                className={` w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ${\n                    firstBranch.open ? '' : 'hidden'\n                }`}\n            >\n                {firstBranch.data &&\n                    Object.keys(firstBranch.data).map((item, i) =>\n                        item ? (\n                            <label\n                                htmlFor={`2` + item}\n                                key={i}\n                                className=\"flex items-center justify-between cursor-pointer\"\n                            >\n                                <div className=\"relative flex items-center group\">\n                                    <input\n                                        onChange={(e) => {\n                                            filterTreefn(item, 2);\n                                            setFourthBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setThirdBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setSecondBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setSecondBranch({\n                                                open: e.target.checked,\n                                                data: firstBranch.data[item],\n                                                active: item\n                                            });\n                                            if (\n                                                typeof firstBranch.data[\n                                                    item\n                                                ] === 'object'\n                                            ) {\n                                                document\n                                                    .querySelector(\n                                                        '.subject-tree'\n                                                    )\n                                                    .scroll({\n                                                        top: 0,\n                                                        behavior: 'smooth'\n                                                    });\n                                                scrollHoriz();\n                                            }\n                                        }}\n                                        id={`2` + item}\n                                        type=\"checkbox\"\n                                        checked={\n                                            branch2 === item ? true : false\n                                        }\n                                        className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                    />{' '}\n                                    <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                        {item}\n                                    </span>\n                                    <span\n                                        className={`text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24 ${\n                                            secondBranch?.active !== item\n                                                ? 'text-gray-500'\n                                                : 'text-black'\n                                        } `}\n                                    >\n                                        {item}\n                                    </span>\n                                </div>\n                                {typeof firstBranch.data[item] === 'object' && (\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg`}\n                                        className=\"opacity-50\"\n                                        alt=\"\"\n                                    />\n                                )}\n                            </label>\n                        ) : (\n                            ''\n                        )\n                    )}\n            </div>\n            <div\n                className={` w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ${\n                    secondBranch.open ? '' : 'hidden'\n                }`}\n            >\n                {secondBranch.data &&\n                    Object.keys(secondBranch.data).map((item, i) =>\n                        item ? (\n                            <label\n                                htmlFor={`3` + item}\n                                key={i}\n                                className=\"flex items-center justify-between cursor-pointer \"\n                            >\n                                <div\n                                    key={i}\n                                    className=\"relative flex items-center group\"\n                                >\n                                    <input\n                                        id={`3` + item}\n                                        onChange={(e) => {\n                                            filterTreefn(item, 3);\n                                            setFourthBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            setThirdBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            if (\n                                                typeof secondBranch.data[\n                                                    item\n                                                ] === 'object'\n                                            ) {\n                                                setThirdBranch({\n                                                    open: e.target.checked,\n                                                    data: secondBranch.data[\n                                                        item\n                                                    ],\n                                                    active: item\n                                                });\n                                                document\n                                                    .querySelector(\n                                                        '.subject-tree'\n                                                    )\n                                                    .scroll({\n                                                        top: 0,\n                                                        behavior: 'smooth'\n                                                    });\n                                                scrollHoriz();\n                                            }\n                                        }}\n                                        type=\"checkbox\"\n                                        checked={\n                                            branch3 === item ? true : false\n                                        }\n                                        className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                    />{' '}\n                                    <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                        {item}\n                                    </span>\n                                    <span\n                                        className={`text-sm block whitespace-nowrap overflow-hidden overflow-ellipsis w-24 ${\n                                            thirdBranch?.active !== item\n                                                ? 'text-gray-500'\n                                                : 'text-black'\n                                        } `}\n                                    >\n                                        {item}\n                                    </span>\n                                </div>\n\n                                {typeof secondBranch.data[item] ===\n                                    'object' && (\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg`}\n                                        className=\"opacity-50\"\n                                        alt=\"\"\n                                    />\n                                )}\n                            </label>\n                        ) : (\n                            ''\n                        )\n                    )}\n            </div>\n            <div\n                className={`w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ${\n                    thirdBranch.open ? '' : 'hidden'\n                }`}\n            >\n                {thirdBranch.data &&\n                    Object.keys(thirdBranch.data).map((item, i) =>\n                        item ? (\n                            <label\n                                htmlFor={`4` + item}\n                                key={i}\n                                className=\"flex items-center justify-between cursor-pointer\"\n                            >\n                                <div\n                                    key={i}\n                                    className=\"relative flex items-center group\"\n                                >\n                                    <input\n                                        id={`4` + item}\n                                        type=\"checkbox\"\n                                        checked={\n                                            branch4 === item ? true : false\n                                        }\n                                        onChange={(e) => {\n                                            filterTreefn(item, 4);\n                                            setFourthBranch({\n                                                open: false,\n                                                data: {},\n                                                acitve: ''\n                                            });\n                                            if (\n                                                typeof thirdBranch.data[\n                                                    item\n                                                ] === 'object'\n                                            ) {\n                                                setFourthBranch({\n                                                    open: e.target.checked,\n                                                    data: thirdBranch.data[\n                                                        item\n                                                    ],\n                                                    active: item\n                                                });\n                                                scrollHoriz();\n                                            }\n                                        }}\n                                        className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                    />{' '}\n                                    <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                        {item}\n                                    </span>\n                                    <span className=\"block w-24 overflow-hidden text-sm text-gray-500 whitespace-nowrap overflow-ellipsis\">\n                                        {item}\n                                    </span>\n                                </div>\n\n                                {typeof thirdBranch.data[item] === 'object' && (\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg`}\n                                        className=\"opacity-50\"\n                                        alt=\"\"\n                                    />\n                                )}\n                            </label>\n                        ) : (\n                            ''\n                        )\n                    )}\n            </div>\n            <div\n                className={`w-1/2 space-y-4  sm:w-1/4 sm:min-w-1/4 min-w-1/2 pl-4 ${\n                    fourthBranch.open ? '' : 'hidden'\n                }`}\n            >\n                {fourthBranch.data &&\n                    Object.keys(fourthBranch.data).map((item, i) => (\n                        <label\n                            htmlFor={`5` + item}\n                            key={i}\n                            className=\"flex items-center justify-between cursor-pointer\"\n                        >\n                            <div\n                                key={i}\n                                className=\"relative flex items-center group\"\n                            >\n                                <input\n                                    id={`5` + item}\n                                    type=\"checkbox\"\n                                    checked={branch5 === item ? true : false}\n                                    onChange={(e) => {\n                                        filterTreefn(item, 5);\n                                    }}\n                                    className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                />{' '}\n                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                    {item}\n                                </span>\n                                <span className=\"block w-24 overflow-hidden text-sm text-gray-500 whitespace-nowrap overflow-ellipsis\">\n                                    {item}\n                                </span>\n                            </div>\n                        </label>\n                    ))}\n            </div>\n        </div>\n    );\n};\nexport default SubjectTree;\n","import React, { useState } from 'react';\nimport { Transition } from '@headlessui/react';\nimport { useAPI } from '../../context/apiContext';\nconst QueryBuilder = () => {\n    const {\n        activeOperators,\n        setActiveOperators,\n        values,\n        setValues,\n        // nearThis,\n        nearThat,\n        nearBy,\n        setNearBy,\n        setNearThat\n        // setNearThis\n    } = useAPI();\n\n    const [showOperatorsMenu, setShowOperatorsMenu] = useState({\n        open: false,\n        index: 0\n    });\n    // Handle query value\n    function handleChange(event) {\n        let vals = [...values.val];\n        vals[this] = event.target.value;\n        setValues({ val: vals });\n    }\n    // Handle query operator\n    function handleActiveOperators(i, p) {\n        let vals = [...activeOperators.val];\n        vals[i] = p;\n        setActiveOperators({ val: vals });\n    }\n\n    const removeClick = (e, i) => {\n        let vals = [...values.val];\n        let operators = [...activeOperators.val];\n        vals.splice(i, 1);\n        operators.splice(i, 1);\n        setValues({ val: vals });\n        setActiveOperators({ val: operators });\n    };\n    // Create dynamic inputs\n    function createInputs() {\n        return values.val.map((el, i) => (\n            <div key={i}>\n                <div className=\"grid grid-cols-12 gap-2\">\n                    <div className=\"relative col-span-3\">\n                        <button\n                            onClick={(e) =>\n                                setShowOperatorsMenu({\n                                    open: !showOperatorsMenu.open,\n                                    index: i\n                                })\n                            }\n                            className=\"m-0 py-2.5 md:px-4 px-2 bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between capitalize md:text-base text-sm\"\n                        >\n                            {activeOperators.val[i]}\n                            <img\n                                src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle.svg`}\n                                className=\"inline-block w-3 transform rotate-90 \"\n                                alt=\"\"\n                            />\n                        </button>\n                        <Transition\n                            show={\n                                showOperatorsMenu?.open &&\n                                showOperatorsMenu.index === i\n                            }\n                            enter=\"transition ease-out duration-100\"\n                            enterFrom=\"transform opacity-0 scale-95\"\n                            enterTo=\"transform opacity-100 scale-100\"\n                            leave=\"transition ease-in duration-75\"\n                            leaveFrom=\"transform opacity-100 scale-100\"\n                            leaveTo=\"transform opacity-0 scale-95\"\n                            className={`absolute w-full py-1 space-y-2 bg-gray-100 top-10 z-10`}\n                        >\n                            <button\n                                onClick={() => {\n                                    setShowOperatorsMenu({\n                                        index: 0,\n                                        open: false\n                                    });\n                                    handleActiveOperators(i, 'and');\n                                    setNearBy(4);\n                                    setNearThat('');\n                                    setValues({ val: [''] });\n                                }}\n                                className=\"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base\"\n                            >\n                                And\n                            </button>\n                            <button\n                                onClick={() => {\n                                    setShowOperatorsMenu({\n                                        index: 0,\n                                        open: false\n                                    });\n                                    handleActiveOperators(i, 'or');\n                                    setValues({ val: [''] });\n                                    setNearBy(4);\n                                    setNearThat('');\n                                }}\n                                className=\"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base\"\n                            >\n                                Or\n                            </button>\n                            <button\n                                onClick={() => {\n                                    setShowOperatorsMenu({\n                                        index: 0,\n                                        open: false\n                                    });\n                                    handleActiveOperators(i, 'not');\n                                    setValues({ val: [''] });\n                                    setNearBy(4);\n                                    setNearThat('');\n                                }}\n                                className=\"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base\"\n                            >\n                                Not\n                            </button>\n                            <button\n                                onClick={() => {\n                                    setShowOperatorsMenu({\n                                        index: 0,\n                                        open: false\n                                    });\n                                    setValues({ val: [''] });\n                                    handleActiveOperators(i, 'near');\n                                }}\n                                className=\"flex items-center w-full px-4 py-2 m-0 mr-8 text-sm text-black bg-gray-100 hover:bg-gray-200 md:text-base\"\n                            >\n                                Near\n                            </button>\n                        </Transition>\n                    </div>\n\n                    <div className={`relative col-span-8`}>\n                        <div className=\"relative\">\n                            {activeOperators.val[i] === 'near' ? (\n                                <>\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        {/* <input\n                                            onChange={(e) =>\n                                                setNearThis(e.target.value)\n                                            }\n                                            className=\"m-0 py-2.5 md:text-base text-sm px-4 bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0\"\n                                            type=\"text\"\n                                            placeholder=\"This\"\n                                            value={nearThis}\n                                        /> */}\n                                        <input\n                                            onChange={(e) =>\n                                                setNearThat(e.target.value)\n                                            }\n                                            className=\"m-0 py-2.5 px-4 md:text-base text-sm bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0\"\n                                            type=\"text\"\n                                            placeholder=\"Near to\"\n                                            value={nearThat}\n                                        />\n                                        <div>\n                                            <input\n                                                onChange={(e) => {\n                                                    setNearBy(e.target.value);\n                                                }}\n                                                className=\"m-0 py-2.5 px-4 md:text-base text-sm bg-gray-100 text-black items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0\"\n                                                type=\"number\"\n                                                placeholder=\"lines away from each other\"\n                                                max={10}\n                                                min={0}\n                                                value={nearBy}\n                                                onBlur={(e) =>\n                                                    setTimeout(() => {\n                                                        if (nearBy >= 10) {\n                                                            setNearBy(10);\n                                                        } else if (nearBy < 0) {\n                                                            setNearBy(0);\n                                                        }\n                                                    }, 700)\n                                                }\n                                            />\n                                            {nearBy > 10 || nearBy < 0 ? (\n                                                <p class=\"mt-0 text-xs text-red-600 absolute\">\n                                                    Value must be between 0 and\n                                                    10\n                                                </p>\n                                            ) : (\n                                                ''\n                                            )}\n                                        </div>\n                                    </div>\n                                </>\n                            ) : (\n                                <input\n                                    className={`m-0 py-2.5 px-4 bg-gray-100 text-black md:text-base text-sm items-center mr-8 mb-2 w-full flex justify-between focus:outline-none focus:ring-0 ${\n                                        activeOperators.val.indexOf('near') !==\n                                        -1\n                                            ? 'opacity-50 pointer-events-none'\n                                            : ''\n                                    }`}\n                                    type=\"text\"\n                                    value={el || ''}\n                                    onChange={handleChange.bind(i)}\n                                />\n                            )}\n                        </div>\n                    </div>\n\n                    <span\n                        onClick={(e) => {\n                            e.preventDefault();\n                            removeClick(e, i);\n                        }}\n                        className=\"inline-flex items-center justify-center col-span-1 py-2 m-0 mb-2 text-xs font-semibold text-black cursor-pointer sm:bg-gray-100 sm:px-3\"\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                            className=\"w-3\"\n                            alt=\"\"\n                        />\n                    </span>\n                </div>\n                {/* {activeOperators.val[i] === 'near' ? (\n                    <p className=\"mb-3 text-xs text-gray\">\n                        Near search can only be performed in isolation from\n                        other filtering.\n                    </p>\n                ) : (\n                    ''\n                )} */}\n            </div>\n        ));\n    }\n\n    // Add new input\n    const addClick = () => {\n        setValues({ val: [...values.val, ''] });\n        setActiveOperators({ val: [...activeOperators.val, 'and'] });\n    };\n\n    return (\n        <>\n            {createInputs()}\n\n            <div className=\"text-right\">\n                {/* {values.val.indexOf('') === -1 && ( */}\n                {values.val.length === 0 && (\n                    <a\n                        href=\"#!\"\n                        onClick={(e) => {\n                            e.preventDefault();\n                            addClick();\n                        }}\n                        className=\"inline-flex items-center mt-5 text-sm text-black \"\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                            className=\"inline-block w-2 mr-2 transform rotate-45\"\n                            alt=\"add\"\n                        />\n                        Add Block\n                    </a>\n                )}\n            </div>\n        </>\n    );\n};\nexport default QueryBuilder;\n","import { useAPI } from '../../context/apiContext';\nconst RecentSearch = () => {\n    const { recentSearch, setSearchQuery } = useAPI();\n\n    if (recentSearch.length) {\n        return (\n            <div className=\"w-full px-4 py-3 mt-3 border border-solid border-yellow\">\n                <div className=\"flex flex-col \">\n                    <h5 className=\"block mb-2 text-base text-black\">\n                        Recent Searches\n                    </h5>\n                    <ul className=\"pl-0 m-0 space-y-1 list-none\">\n                        {recentSearch &&\n                            recentSearch.map((item, index) => (\n                                <li\n                                    key={index}\n                                    className=\"pl-0 m-0 before:hidden\"\n                                >\n                                    <p\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            e.preventDefault();\n                                            setSearchQuery(item);\n                                        }}\n                                        className=\"block m-0 text-base text-gray-500 cursor-pointer hover:text-black\"\n                                    >\n                                        {item}\n                                    </p>\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n            </div>\n        );\n    } else {\n        return <></>;\n    }\n};\nexport default RecentSearch;\n","import { Transition } from '@headlessui/react';\n// import Filters from './____filters';\nimport SubjectTree from './subjectTree';\nimport QueryBuilder from './queryBuilder';\nimport RecentSearch from './recent-search';\nimport { useEffect, useState } from 'react';\nimport { useAPI } from '../../context/apiContext';\n\nconst Search = () => {\n    const [showRecentSearch, setShowRecentSearch] = useState(false);\n    const [showLanguages, setShowLanguages] = useState(false);\n    const [removeClick, setRemoveClick] = useState(false);\n\n    const [branch1, setBranch1] = useState('');\n    const [branch2, setBranch2] = useState('');\n    const [branch3, setBranch3] = useState('');\n    const [branch4, setBranch4] = useState('');\n    const [branch5, setBranch5] = useState('');\n\n    const {\n        setSearchQuery,\n        searchQuery,\n        showAdvanceSearch,\n        setShowAdvanceSearch,\n        fetchData,\n        filterTree,\n        data,\n        setFilterTree,\n        activeOperators,\n        setActiveOperators,\n\n        setValues,\n        setTreeLanguage,\n        setSearchField,\n        searchField,\n        values,\n        setData,\n        setIsLoading,\n        setInit,\n        isLoading,\n        init,\n        setLanguageFilter,\n        setAssetsFilter,\n        setAuthorFilter,\n        authorFilter,\n        languageFilter,\n        assetsFilter,\n        sourceFilter,\n        setSourceFilter,\n        setActivePage,\n        setHasQuery,\n        hasQuery,\n        activePage,\n        collectionFilter,\n        setCollectionFilter,\n        nearBy,\n\n        collectionRamachandraFilter,\n        setCollectionRamachandraFilter\n    } = useAPI();\n\n    //Update search based on subject tree filter\n    function updateFilters() {\n        setActivePage(1);\n        if (branch1 && branch2 && branch3 && branch4 && branch5) {\n            setFilterTree([branch1, branch2, branch3, branch4, branch5]);\n        } else if (branch1 && branch2 && branch3 && branch4) {\n            setFilterTree([branch1, branch2, branch3, branch4]);\n        } else if (branch1 && branch2 && branch3) {\n            setFilterTree([branch1, branch2, branch3]);\n        } else if (branch1 && branch2) {\n            setFilterTree([branch1, branch2]);\n        } else if (branch1) {\n            setFilterTree([branch1]);\n        } else {\n            setFilterTree([]);\n        }\n        if (activeOperators.val.length && values.val.length) {\n            fetchData();\n        }\n        setRemoveClick(false);\n    }\n\n    // Update and clear subject tree\n    function filterTreefn(slug, b) {\n        if (b === 1) {\n            setBranch2('');\n            setBranch3('');\n            setBranch4('');\n            setBranch5('');\n            if (branch1 === slug) {\n                setBranch1('');\n            } else {\n                setBranch1(slug);\n            }\n        } else if (b === 2) {\n            setBranch3('');\n            setBranch4('');\n            setBranch5('');\n            if (branch2 === slug) {\n                setBranch2('');\n            } else {\n                setBranch2(slug);\n            }\n        } else if (b === 3) {\n            setBranch4('');\n            setBranch5('');\n            if (branch3 === slug) {\n                setBranch3('');\n            } else {\n                setBranch3(slug);\n            }\n        } else if (b === 4) {\n            setBranch5('');\n            if (branch4 === slug) {\n                setBranch4('');\n            } else {\n                setBranch4(slug);\n            }\n        } else if (b === 5) {\n            if (branch5 === slug) {\n                setBranch5('');\n            } else {\n                setBranch5(slug);\n            }\n        }\n    }\n\n    useEffect(() => {\n        if (filterTree.length || init) {\n            fetchData();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filterTree]);\n\n    useEffect(() => {\n        if (removeClick) {\n            updateFilters();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [removeClick]);\n    return (\n        <>\n            <div className=\"flex flex-col-reverse px-4 md:justify-center md:flex-row\">\n                <div className=\"w-32 md:pt-14\">\n                    {/* Advance filter selection  */}\n                    <div className=\"flex flex-col items-start space-y-0 text-left\">\n                        <p\n                            onClick={() => {\n                                setShowAdvanceSearch(-1);\n                                setShowLanguages(true);\n                                if (!hasQuery) {\n                                    setActiveOperators({ val: [] });\n                                    setValues({ val: [] });\n                                }\n                            }}\n                            className={`text-sm  block leading-7 pb-1 cursor-pointer mb-0 ${\n                                showLanguages ? 'text-black' : 'text-gray-500'\n                            }`}\n                        >\n                            Subject Tree\n                        </p>\n                        {showLanguages && (\n                            <>\n                                <p\n                                    onClick={() => {\n                                        setShowAdvanceSearch(1);\n                                        setTreeLanguage('en');\n                                    }}\n                                    className={`text-xs block leading-5 cursor-pointer pl-2  ${\n                                        showLanguages\n                                            ? 'text-black'\n                                            : 'text-gray-500'\n                                    }`}\n                                >\n                                    English\n                                </p>\n                                <p\n                                    onClick={() => {\n                                        setShowAdvanceSearch(1);\n                                        setTreeLanguage('bo');\n                                    }}\n                                    className={`text-xs block leading-5 cursor-pointer pl-2  ${\n                                        showLanguages\n                                            ? 'text-black'\n                                            : 'text-gray-500'\n                                    }`}\n                                >\n                                    Tibetan\n                                </p>\n                            </>\n                        )}\n                        <p\n                            onClick={() => {\n                                setShowAdvanceSearch(2);\n                                setShowLanguages(false);\n\n                                if (activeOperators.val.length === 0) {\n                                    setValues({ val: [...values.val, ''] });\n                                    setActiveOperators({\n                                        val: [...activeOperators.val, 'and']\n                                    });\n                                }\n                            }}\n                            className={`text-sm  flex items-center leading-7 pb-1 cursor-pointer ${\n                                showAdvanceSearch === 2\n                                    ? 'text-black pl-2'\n                                    : 'text-gray-500'\n                            }`}\n                        >\n                            Query Builder\n                        </p>\n                    </div>\n                </div>\n                {/* Main search section including search dropdown  */}\n                <div className=\"block w-full max-w-4xl lg:pr-12 search-bar\">\n                    <div className=\"relative \">\n                        <div className=\"relative group\">\n                            <div className=\"absolute w-20 pr-1 sm:pr-4 sm:w-40 sm:mt-0 mt-0.5\">\n                                <select\n                                    onChange={(e) => {\n                                        e.preventDefault();\n                                        setSearchField(e.target.value);\n                                    }}\n                                    value={searchField}\n                                    style={{\n                                        backgroundImage: `url(${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/angle-down.svg)`\n                                    }}\n                                    className=\"relative top-0 z-10 w-full py-2 pr-3 overflow-hidden text-xs text-black bg-white bg-right bg-no-repeat border-black border-none appearance-none overflow-ellipsis md:text-lg h-11 focus:outline-none focus:ring-0 focus: border-b-solid \"\n                                >\n                                    <option value=\"\">All</option>\n                                    <option value=\"data\">Body Of Text</option>\n                                    <option value=\"name\">Author</option>\n                                    <option value=\"title\">Title</option>\n                                    <option value=\"variant\">\n                                        Variant title\n                                    </option>\n                                    <option value=\"colophon\">Colophon</option>\n                                </select>\n                            </div>\n                            <input\n                                className={`w-full py-2 sm:pl-40 pl-20 sm:pr-3   overflow-ellipsis overflow-hidden h-12 text-black border-b-2 focus:outline-none focus:ring-0 focus: border-solid border-black sm:text-lg text-sm ${\n                                    isLoading ? 'cursor-wait ' : ''\n                                } \n                                    ${\n                                        activeOperators.val.indexOf('near') !==\n                                        -1\n                                            ? ' '\n                                            : // ? 'text-opacity-40 cursor-not-allowed'\n                                              ''\n                                    }\n                                `}\n                                type=\"search\"\n                                placeholder=\"Search resources - titles, authors, topics...\"\n                                value={searchQuery}\n                                onChange={(e) => {\n                                    setSearchQuery(e.target.value);\n                                }}\n                                onKeyDown={(e) => {\n                                    if (e.key === 'Enter') {\n                                        if (activePage === 1) {\n                                            fetchData();\n                                        } else {\n                                            setActivePage(1);\n                                        }\n                                    }\n                                }}\n                                readOnly={isLoading}\n                                // disabled={\n                                //     activeOperators.val.indexOf('near') !== -1\n                                // }\n                                onBlur={(e) =>\n                                    setTimeout(() => {\n                                        setShowRecentSearch(false);\n                                    }, 200)\n                                }\n                                onFocus={(e) => setShowRecentSearch(true)}\n                            />\n                            <div className=\"hidden text-right md:block\">\n                                <button\n                                    type=\"button\"\n                                    className=\"px-4 py-1 mt-1 text-sm font-semibold uppercase border border-solid border-green text-green hover:bg-green hover:text-white\"\n                                    onClick={() => {\n                                        if (activePage === 1) {\n                                            fetchData();\n                                        } else {\n                                            setActivePage(1);\n                                        }\n                                    }}\n                                >\n                                    Search\n                                </button>\n                            </div>\n\n                            {/* Reset search button  */}\n                            {data.length ||\n                            searchQuery ||\n                            filterTree.length ||\n                            (activeOperators.val.length &&\n                                values.val.length &&\n                                hasQuery) ||\n                            authorFilter.length ||\n                            languageFilter.length ||\n                            sourceFilter !== '' ||\n                            collectionFilter !== '' ||\n                            collectionRamachandraFilter !== '' ||\n                            assetsFilter.length ? (\n                                <p\n                                    onClick={(e) => {\n                                        e.preventDefault();\n                                        setData([]);\n                                        setIsLoading(true);\n                                        setSearchQuery('');\n                                        setCollectionFilter('');\n\n                                        setCollectionRamachandraFilter('');\n                                        setBranch1('');\n                                        setBranch2('');\n                                        setBranch3('');\n                                        setBranch4('');\n                                        setBranch5('');\n                                        setFilterTree([]);\n                                        setActiveOperators({ val: [] });\n                                        setValues({ val: [] });\n                                        setLanguageFilter([]);\n                                        setSourceFilter('');\n                                        setAssetsFilter([]);\n                                        setAuthorFilter([]);\n                                        setInit(false);\n                                        setShowLanguages(false);\n                                        setTreeLanguage('');\n                                        setIsLoading(false);\n                                        setHasQuery(false);\n                                    }}\n                                    className=\"absolute bg-white right-0 sm:right-2.5 sm:top-3 top-3.5 cursor-pointer\"\n                                >\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                        alt=\"search\"\n                                    />\n                                </p>\n                            ) : (\n                                <p className=\"absolute right-0 sm:top-1.5 top-2 bg-white cursor-pointer\">\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/search.svg`}\n                                        alt=\"close\"\n                                    />\n                                </p>\n                            )}\n                        </div>\n\n                        {/* Recent Search  */}\n                        <Transition\n                            show={showRecentSearch && !searchQuery}\n                            enter=\"transition ease-out duration-100\"\n                            enterFrom=\"transform opacity-0 scale-95\"\n                            enterTo=\"transform opacity-100 scale-100\"\n                            leave=\"transition ease-in duration-75\"\n                            leaveFrom=\"transform opacity-100 scale-100\"\n                            leaveTo=\"transform opacity-0 scale-95\"\n                            className=\"absolute z-10 w-full bg-white top-12\"\n                        >\n                            <RecentSearch />\n                        </Transition>\n\n                        <div className=\"grid grid-cols-12 gap-2 pt-3 \">\n                            <div className=\"relative col-span-12\">\n                                <div className=\"flex justify-between pt-0 text-xs\">\n                                    <div\n                                        className={`flex flex-wrap ${\n                                            isLoading\n                                                ? 'pointer-events-none opacity-70'\n                                                : ''\n                                        }`}\n                                    >\n                                        {/* Subject tree pills  */}\n                                        {branch1 && filterTree[0] && (\n                                            <p className=\"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group \">\n                                                {branch1.substring(0, 12)}\n                                                {branch1.length > 12\n                                                    ? '...'\n                                                    : ''}\n                                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                                    {branch1}\n                                                </span>\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                    alt=\"\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        setRemoveClick(true);\n                                                        filterTreefn(\n                                                            branch1,\n                                                            1,\n                                                            true\n                                                        );\n                                                    }}\n                                                    className=\"w-2.5 ml-2 cursor-pointer\"\n                                                />\n                                            </p>\n                                        )}\n                                        {branch2 && filterTree[1] && (\n                                            <p className=\"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group \">\n                                                {branch2.substring(0, 12)}\n                                                {branch2.length > 12\n                                                    ? '...'\n                                                    : ''}\n                                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                                    {branch2}\n                                                </span>\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                    alt=\"\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        setRemoveClick(true);\n                                                        filterTreefn(\n                                                            branch2,\n                                                            2,\n                                                            true\n                                                        );\n                                                    }}\n                                                    className=\"w-2.5 ml-2 cursor-pointer\"\n                                                />\n                                            </p>\n                                        )}\n                                        {branch3 && filterTree[2] && (\n                                            <p className=\"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group \">\n                                                {branch3.substring(0, 12)}\n                                                {branch3.length > 12\n                                                    ? '...'\n                                                    : ''}\n                                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                                    {branch3}\n                                                </span>\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                    alt=\"\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        setRemoveClick(true);\n                                                        filterTreefn(\n                                                            branch3,\n                                                            3,\n                                                            true\n                                                        );\n                                                    }}\n                                                    className=\"w-2.5 ml-2 cursor-pointer\"\n                                                />\n                                            </p>\n                                        )}\n                                        {branch4 && filterTree[3] && (\n                                            <p className=\"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group \">\n                                                {branch4.substring(0, 12)}\n                                                {branch4.length > 12\n                                                    ? '...'\n                                                    : ''}\n                                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                                    {branch4}\n                                                </span>\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                    alt=\"\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        setRemoveClick(true);\n                                                        filterTreefn(\n                                                            branch4,\n                                                            4,\n                                                            true\n                                                        );\n                                                    }}\n                                                    className=\"w-2.5 ml-2 cursor-pointer\"\n                                                />\n                                            </p>\n                                        )}\n                                        {branch5 && filterTree[4] && (\n                                            <p className=\"relative inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100 group \">\n                                                {branch5.substring(0, 12)}\n                                                {branch5.length > 12\n                                                    ? '...'\n                                                    : ''}\n                                                <span className=\"absolute z-10 w-full max-w-full px-2 py-1 text-xs font-light text-white transform -translate-x-1/2 rounded opacity-0 pointer-events-none top-6 left-1/2 bg-green group-hover:opacity-100\">\n                                                    {branch5}\n                                                </span>\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                    alt=\"\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        setRemoveClick(true);\n                                                        filterTreefn(\n                                                            branch5,\n                                                            5,\n                                                            true\n                                                        );\n                                                    }}\n                                                    className=\"w-2.5 ml-2 cursor-pointer\"\n                                                />\n                                            </p>\n                                        )}\n\n                                        {/* Query builder pill  */}\n                                        {activeOperators?.val?.length !== 0 &&\n                                            hasQuery && (\n                                                <p className=\"inline-flex items-center px-4 py-2 m-0 mb-2 mr-2 text-sm text-black bg-gray-100\">\n                                                    Custom Query\n                                                    <img\n                                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                                        alt=\"\"\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            setActivePage(1);\n                                                            setValues({\n                                                                val: []\n                                                            });\n                                                            setActiveOperators({\n                                                                val: []\n                                                            });\n                                                            setHasQuery(false);\n\n                                                            setRemoveClick(\n                                                                true\n                                                            );\n                                                        }}\n                                                        className=\"w-2.5 ml-2 cursor-pointer\"\n                                                    />\n                                                </p>\n                                            )}\n                                    </div>\n                                </div>\n\n                                <div\n                                    className={`absolute w-full md:-top-11 top-0 p-5 pt-10 bg-white    border  border-solid border-yellow z-10 ${\n                                        showAdvanceSearch !== -1\n                                            ? 'block'\n                                            : 'hidden'\n                                    }`}\n                                >\n                                    <div\n                                        className=\"absolute right-4 top-3.5 cursor-pointer opacity-50\"\n                                        onClick={(e) => {\n                                            e.preventDefault();\n                                            setShowAdvanceSearch(-1);\n                                            if (!hasQuery) {\n                                                setActiveOperators({ val: [] });\n                                                setValues({ val: [] });\n                                            }\n                                        }}\n                                    >\n                                        <img\n                                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                                            alt=\"close\"\n                                            className=\"w-3\"\n                                        />\n                                    </div>\n                                    <div>\n                                        <div\n                                            className={`${\n                                                showAdvanceSearch === 1\n                                                    ? 'block'\n                                                    : 'hidden'\n                                            }`}\n                                        >\n                                            <SubjectTree\n                                                branch1={branch1}\n                                                branch2={branch2}\n                                                branch3={branch3}\n                                                branch4={branch4}\n                                                branch5={branch5}\n                                                filterTreefn={filterTreefn}\n                                            />\n                                        </div>\n                                        <div\n                                            onKeyDown={(e) => {\n                                                if (e.key === 'Enter') {\n                                                    if (\n                                                        values.val.indexOf(\n                                                            ''\n                                                        ) === -1 ||\n                                                        (nearBy > 0 &&\n                                                            nearBy <= 10)\n                                                    ) {\n                                                        updateFilters();\n                                                    }\n                                                }\n                                            }}\n                                            className={`${\n                                                showAdvanceSearch === 2\n                                                    ? 'block'\n                                                    : 'hidden'\n                                            }`}\n                                        >\n                                            <QueryBuilder />\n                                        </div>\n                                        {/* Action button  */}\n                                        <div className=\"mt-10 space-x-4 text-right\">\n                                            <button\n                                                onClick={(e) => {\n                                                    e.preventDefault();\n                                                    setShowAdvanceSearch(-1);\n                                                    if (!hasQuery) {\n                                                        setActiveOperators({\n                                                            val: []\n                                                        });\n                                                        setValues({\n                                                            val: []\n                                                        });\n                                                    }\n                                                }}\n                                                className=\"py-1 text-sm bg-white border-2 border-solid px-7 border-gray text-gray hover:bg-gray hover:text-black \"\n                                            >\n                                                Cancel\n                                            </button>\n\n                                            <button\n                                                onClick={(e) => {\n                                                    updateFilters();\n                                                }}\n                                                className={`py-1 text-sm bg-white border-2 px-7 border-green text-green hover:bg-yellow hover: border-solid hover:border-yellow ${\n                                                    values.val.indexOf('') ===\n                                                        -1 ||\n                                                    activeOperators.val.indexOf(\n                                                        'near'\n                                                    ) !== -1\n                                                        ? ''\n                                                        : 'pointer-events-none opacity-70'\n                                                } `}\n                                            >\n                                                Apply\n                                            </button>\n                                        </div>\n                                        {/* Notes  */}\n\n                                        <div className=\"items-center justify-between sm:flex\">\n                                            <p className=\"relative flex items-center m-0 mt-3 text-xs text-gray group\">\n                                                <img\n                                                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/info.svg`}\n                                                    alt=\"close\"\n                                                    className=\"w-5 mr-2 opacity-40\"\n                                                />\n                                                <span className=\"absolute w-56 opacity-0 left-6 group-hover:opacity-100\">\n                                                    We understand you want to\n                                                    build complex queries. This\n                                                    feature is coming soon!\n                                                </span>\n                                            </p>\n                                            <p className=\"mt-3 text-xs text-gray\">\n                                                All fields are required\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\nexport default Search;\n","const DataNotFound = () => {\n    return (\n        <div className=\"p-3 mt-4 text-white md:p-5 bg-green md:mt-0\">\n            <div className=\"relative max-w-3xl p-4 mx-auto border-2 border-solid md:border-4 md:p-10 border-yellow \">\n                <h5 className=\"mb-6 text-xl text-white md:leading-10 md:text-3xl\">\n                    It looks like there aren't many great matches for your\n                    search.\n                </h5>\n                <p className=\"mb-6 text-sm font-light text-white md:leading-8 md:text-base\">\n                    Try using words that might appear on the translation youre\n                    looking for. For example, \"sanskrit\" instead of \"east\n                    translations.\"\n                </p>\n                <p className=\"text-xs font-light text-white md:leading-6 md:text-sm\">\n                    Need help? Take a look at other tips for searching on ALL\n                    Digital Library.\n                </p>\n            </div>\n        </div>\n    );\n};\nexport default DataNotFound;\n","import { useEffect } from 'react';\nimport { useAPI } from '../../context/apiContext';\nconst Collections = () => {\n    const {\n        sourceLibraries,\n        setSourceFilter,\n        sourceFilter,\n        collections,\n        setCollectionFilter,\n        collectionFilter,\n        fetchData\n    } = useAPI();\n\n    useEffect(() => {\n        if (sourceFilter || collectionFilter) {\n            fetchData();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [sourceFilter, collectionFilter]);\n    return (\n        <div className=\"text-center \">\n            <h5 className=\"inline-block py-1 mb-6 text-base leading-10 text-black bg-gray-100 lg:px-32 px-14 text-opacity-90\">\n                Tibetan Input Text Collections\n            </h5>\n            <div className=\"items-center justify-center sm:flex \">\n                {collections &&\n                    collections.map((item, index) => (\n                        <a\n                            key={index}\n                            className=\"inline-block mx-5 mb-3 text-base text-green\"\n                            href=\"#!\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                setCollectionFilter(item?.key);\n                            }}\n                        >\n                            {item?.key}\n                        </a>\n                    ))}\n            </div>\n            <h5 className=\"inline-block py-1 mt-20 mb-6 text-base leading-10 text-black bg-gray-100 lg:px-20 px-14 text-opacity-90\">\n                Browse Source Libraries\n            </h5>\n            <div className=\"items-center justify-center md:flex\">\n                {sourceLibraries &&\n                    sourceLibraries.map((item, index) => (\n                        <a\n                            key={index}\n                            className=\"inline-block mx-5 mb-3 text-base text-green\"\n                            href=\"#!\"\n                            onClick={(e) => {\n                                e.preventDefault();\n                                setSourceFilter(item?.key);\n                            }}\n                        >\n                            {item?.key}\n                        </a>\n                    ))}\n            </div>\n        </div>\n    );\n};\nexport default Collections;\n","import { Link } from 'react-router-dom';\nimport { useAPI } from '../../context/apiContext';\nfunction cleanChar(val) {\n    if (!val) return;\n    return String(val)\n        .replaceAll(/^(@\\w+)\\s/g, '<br/><strong>$1</strong> ')\n        .replaceAll(/\\s(@\\w+)\\s/g, '<br/><strong>$1</strong><br/>');\n    // .replaceAll(/\\[\\/n\\]/gi, '');\n}\n\nconst SearchItem = ({ item, index }) => {\n    const { setSingle } = useAPI();\n    return (\n        <Link\n            to={`/resource/${item?._id}`}\n            className=\"block cursor-pointer search-result-item group\"\n            key={index}\n            onClick={(e) => setSingle('')}\n        >\n            <div className=\"grid grid-cols-12 mb-2.5 \">\n                <div className=\"col-span-2 md:col-span-1\">\n                    <p className=\"mb-0 text-xs text-gray-500 md:text-sm\">\n                        Author\n                    </p>\n                </div>\n                <div className=\"col-span-10 md:col-span-11\">\n                    <p\n                        className=\"mb-0 text-xs text-black sm:text-sm\"\n                        dangerouslySetInnerHTML={{\n                            __html:\n                                item?.highlight?.['bibframe:person'] ||\n                                item?._source?.['bibframe:person'] ||\n                                '--'\n                        }}\n                    />\n                </div>\n            </div>\n            <div className=\"grid grid-cols-12\">\n                <div className=\"col-span-2 md:col-span-1\">\n                    <p className=\"mb-0 text-xs text-gray-500 md:text-sm\">\n                        Title\n                    </p>\n                </div>\n                <div className=\"col-span-10 md:col-span-11\">\n                    <p\n                        className=\"block mb-1 text-base text-black whitespace-pre-line md:text-xl md:leading-9 hover:underline group-hover:underline\"\n                        dangerouslySetInnerHTML={{\n                            __html: cleanChar(\n                                item?.highlight?.['bibframe:maintitle'] ||\n                                    item?._source?.['bibframe:maintitle'] ||\n                                    '--'\n                            )\n                        }}\n                    />\n\n                    <p\n                        className=\"mb-0 text-xs text-gray-500 whitespace-pre-line md:leading-8 md:text-base\"\n                        dangerouslySetInnerHTML={{\n                            __html: cleanChar(\n                                item?.highlight?.[\n                                    'bibframe:varianttitle@colophon'\n                                ] ||\n                                    item?._source?.[\n                                        'bibframe:varianttitle@colophon'\n                                    ]\n                            )\n                        }}\n                    />\n\n                    <div className=\"items-center mt-5 space-y-2 sm:divide-x sm:space-x-3 sm:space-y-0 sm:flex sm:divide-gray\">\n                        <p className=\"m-0 text-xs leading-none text-gray\">\n                            Source Library:{' '}\n                            {item?._source?.['bibframe:source'] || '--'}\n                        </p>\n                        <p className=\"m-0 text-xs leading-none sm:pl-3 text-gray\">\n                            Language:{' '}\n                            {item?._source?.['bibframe:language'] || '--'}\n                        </p>\n                        <p className=\"m-0 text-xs leading-none sm:pl-3 text-gray\">\n                            Asset Type:{' '}\n                            {item?._source?.['all:items']?.['all:assettype'] ||\n                                '--'}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </Link>\n    );\n};\nexport default SearchItem;\n","import React, { useEffect, useState, useRef } from 'react';\n\nimport { useAPI, useDebounce } from '../../context/apiContext';\n\nimport Navigation from './navigation';\nimport RelatedResources from './RelatedResources';\nimport AboutSourceLib from './AboutSourceLib';\nimport MetaData from './MetaData';\nimport Download from './Download';\nimport IIIF from './iiif';\nimport { Link } from 'react-router-dom';\nlet allFindings;\nfunction SingleResult({ match }) {\n    const myRef = useRef(null);\n    const {\n        singleData,\n        setSingle,\n        isLoading,\n        single,\n        globalSearch,\n        setGlobalSearch,\n        fetchURL,\n        getSingleView\n        // searchQuery\n        // values\n    } = useAPI();\n\n    const { id } = match.params;\n\n    const [copyState, setCopyState] = useState('Copy');\n    const [position, setPosition] = useState(-1);\n\n    // Set resource ID\n    useEffect(() => {\n        if (id) {\n            setGlobalSearch('');\n            setSingle(id);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [id]);\n\n    //Main element of data source\n    const elem = document.querySelector('.h-50vh');\n    //Reset search value\n    useEffect(() => {\n        setGlobalSearch('');\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    //Pharse data\n\n    function cleanChar(val) {\n        if (!val) return;\n        let data = val\n            .replaceAll(/^(@\\w+)\\s/g, '<br/><strong>$1</strong> ')\n            .replaceAll(/\\s(@\\w+)\\s/g, '<br/><strong>$1</strong><br/>');\n        // .replaceAll(/\\[\\/n\\]/gi, '<br/><br/>');\n\n        data = data.replaceAll(\n            `<em>${globalSearch.toUpperCase()}</em>`,\n            `<em class=\"bg-gray-300\">${globalSearch.toUpperCase()}</em>`\n        );\n        data = data.replaceAll(\n            `<em>${globalSearch.toLowerCase()}</em>`,\n            `<em class=\"bg-gray-300\">${globalSearch.toLowerCase()}</em>`\n        );\n        data = data.replaceAll(\n            `<em>${globalSearch}</em>`,\n            `<em class=\"bg-gray-300\">${globalSearch}</em>`\n        );\n        // if (values.val[0]) {\n        //     data = data.replaceAll(\n        //         `<em>${values.val[0].toUpperCase()}</em>`,\n        //         `<em class=\"bg-yellow-light\">${values.val[0].toUpperCase()}</em>`\n        //     );\n        //     data = data.replaceAll(\n        //         `<em>${values.val[0].toLowerCase()}</em>`,\n        //         `<em class=\"bg-yellow-light\">${values.val[0].toLowerCase()}</em>`\n        //     );\n        //     data = data.replaceAll(\n        //         `<em>${values.val[0]}</em>`,\n        //         `<em class=\"bg-yellow-light\">${values.val[0]}</em>`\n        //     );\n        // }\n        // data = data.replaceAll(\n        //     `<em>${\n        //         searchQuery.charAt(0).toUpperCase() + searchQuery.slice(1)\n        //     }</em>`,\n        //     `<em class=\"bg-yellow-light\">${\n        //         searchQuery.charAt(0).toUpperCase() + searchQuery.slice(1)\n        //     }</em>`\n        // );\n\n        return data;\n    }\n\n    let data = singleData[0];\n    const [showModal, setShowModal] = useState(false);\n    const [showDownload, setShowDownload] = useState(false);\n\n    const debouncedQuery = useDebounce(globalSearch, 300);\n\n    useEffect(() => {\n        document.querySelector('html').scroll({\n            top: 0,\n            behavior: 'smooth'\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(() => {\n        document.querySelector('html').scroll({\n            top: 0,\n            behavior: 'smooth'\n        });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [single]);\n\n    // Update search state\n    useEffect(() => {\n        setPosition(-1);\n        getSingleView();\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [debouncedQuery]);\n\n    //Copy URL funnction\n    function copy(e) {\n        e.preventDefault();\n        var dummy = document.createElement('input'),\n            text = window.location.href;\n\n        document.body.appendChild(dummy);\n        dummy.value = text;\n        dummy.select();\n        document.execCommand('copy');\n        document.body.removeChild(dummy);\n        setCopyState('Copied!');\n        setTimeout(() => {\n            setCopyState('Copy');\n        }, 2000);\n    }\n    useEffect(() => {\n        allFindings = document.querySelectorAll('.resource-search em');\n        if (\n            document.querySelectorAll('.resource-search') &&\n            position !== -1 &&\n            allFindings.length > 0\n        ) {\n            if (position < allFindings.length && position >= 0) {\n                allFindings.forEach((item) => (item.style.fontWeight = '400'));\n                allFindings[position].style.fontWeight = 'bold';\n                let elemP =\n                    allFindings[position].getBoundingClientRect().top -\n                    elem.getBoundingClientRect().top;\n                let yP = elem.scrollTop;\n\n                let diff = elemP + yP;\n\n                elem.scroll({\n                    top: diff,\n                    behavior: 'smooth'\n                });\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [position, debouncedQuery, single]);\n\n    return (\n        <>\n            {/* Show loader  */}\n            {isLoading && (\n                <div className=\"fixed top-0 left-0 z-40 flex items-center justify-center w-full h-screen text-2xl text-center bg-white bg-opacity-90\">\n                    <div>\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/loader.svg`}\n                            className=\"block w-10 mx-auto\"\n                            alt=\"\"\n                        />{' '}\n                        Loading...\n                    </div>\n                </div>\n            )}\n            <div className=\"px-4 py-5 bg-yellow-light \">\n                <div className=\"mx-auto max-w-7xl\">\n                    <Link\n                        to=\"/\"\n                        className=\"inline-block text-sm cursor-pointer\"\n                    >\n                        Back to {fetchURL ? 'results' : 'search'}\n                    </Link>\n                    <div className=\"mt-5 mb-3 md:mt-12\">\n                        <div className=\"grid md:grid-cols-12\">\n                            <div className=\"md:col-span-7\">\n                                {data?._source?.['bibframe:maintitle'] && (\n                                    <h3\n                                        className=\"pl-0 m-0 text-xl md:text-3xl md:leading-9\"\n                                        dangerouslySetInnerHTML={{\n                                            __html: cleanChar(\n                                                data?._source?.[\n                                                    'bibframe:maintitle'\n                                                ] || '--'\n                                            )\n                                        }}\n                                    />\n                                )}\n                            </div>\n                            <div className=\"mt-5 md:pl-8 md:mt-0 md:col-span-5\">\n                                <p className=\"mb-1 text-sm text-gray-500 uppercase md:text-lg\">\n                                    AUTHOR\n                                </p>\n                                <p\n                                    className=\"text-sm md:text-xl md:leading-8\"\n                                    dangerouslySetInnerHTML={{\n                                        __html:\n                                            data?._source?.[\n                                                'bibframe:person'\n                                            ] || '--'\n                                    }}\n                                />{' '}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"\">\n                {/* Navigation  */}\n                <Navigation />\n                <div className=\"px-4 mx-auto mt-0 max-w-7xl \">\n                    {data?._source?.['all:items']?.['bibframe:datasource'] && (\n                        <div className=\"flex items-center justify-start mb-10\">\n                            <div className=\"relative w-full max-w-md\">\n                                <input\n                                    className=\"w-full px-0 py-2 text-base border-b-2 border-gray-400 border-solid focus:outline-none focus:ring-0 focus:\"\n                                    type=\"search\"\n                                    placeholder=\"Search..\"\n                                    onChange={(e) => {\n                                        setGlobalSearch(e?.target?.value);\n                                    }}\n                                    value={globalSearch}\n                                />\n                                {/* <p className=\"text-xs text-gray\">\n                                    For an exact match, try enclosing your\n                                    search strings in \"double quotes\".\n                                </p> */}\n                                <div className=\"absolute right-0 top-1.5 bg-white\">\n                                    <div className=\"flex items-center p-3 pr-0 space-x-3 bg-white \">\n                                        <a\n                                            href=\"#!\"\n                                            className=\"relative inline-block w-4 transform rotate-180 cursor-pointer group\"\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                if (position > 0) {\n                                                    setPosition(position - 1);\n                                                }\n                                            }}\n                                        >\n                                            <div className=\"absolute p-1 px-2 text-xs text-white transition-all transform -rotate-180 -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -bottom-8 group-hover:opacity-100\">\n                                                Previous\n                                            </div>\n                                            <img\n                                                src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                                                alt=\"\"\n                                                className=\"w-4\"\n                                            />\n                                        </a>{' '}\n                                        <a\n                                            href=\"#!\"\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                if (\n                                                    position <\n                                                    allFindings.length\n                                                ) {\n                                                    setPosition(position + 1);\n                                                }\n                                            }}\n                                            className=\"relative inline-block w-4 cursor-pointer group\"\n                                        >\n                                            <div className=\"absolute p-1 px-2 text-xs text-white transition-all transform -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -top-8 group-hover:opacity-100\">\n                                                Next\n                                            </div>\n                                            <img\n                                                src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                                                alt=\"\"\n                                                className=\"w-4\"\n                                            />\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                    {/* show colophon when no data source available  */}\n                    <div className=\"grid md:grid-cols-12\">\n                        {!data?._source?.['all:items']?.[\n                            'bibframe:datasource'\n                        ] &&\n                            !data?._source?.['all:items']?.[\n                                'bibframe:electroniclocator'\n                            ] &&\n                            data?._source?.[\n                                'bibframe:varianttitle@colophon'\n                            ] && (\n                                <div className=\"mb-8 md:col-span-12\">\n                                    <p className=\"mb-1 text-base text-gray-500\">\n                                        varianttitle@colophon:{' '}\n                                    </p>\n                                    <div\n                                        className=\"block text-base break-words whitespace-pre-line resource-search\"\n                                        dangerouslySetInnerHTML={{\n                                            __html: cleanChar(\n                                                data?._source?.[\n                                                    'bibframe:varianttitle@colophon'\n                                                ]\n                                            )\n                                        }}\n                                    />\n                                </div>\n                            )}\n                        <div\n                            className={`${\n                                data?._source?.['all:items']?.[\n                                    'bibframe:datasource'\n                                ] ||\n                                data?._source?.['all:items']?.[\n                                    'bibframe:electroniclocator'\n                                ]\n                                    ? 'md:col-span-7'\n                                    : 'md:col-span-12'\n                            }`}\n                        >\n                            {data?._source?.['all:items']?.[\n                                'bibframe:datasource'\n                            ] && (\n                                <>\n                                    <div\n                                        className=\"mb-6 overflow-x-hidden overflow-y-auto md:h-page h-50vh md:mb-14 \"\n                                        ref={myRef}\n                                    >\n                                        <div\n                                            className=\"block leading-7 break-words whitespace-pre-line md:leading-8 md:text-lg resource-search\"\n                                            dangerouslySetInnerHTML={{\n                                                __html: cleanChar(\n                                                    data?._source?.[\n                                                        'all:items'\n                                                    ]?.['bibframe:datasource']\n                                                )\n                                            }}\n                                        />\n                                    </div>\n                                    <div className=\"flex items-center justify-center mb-6 md:space-x-14 space-x-7 md:mb-14\">\n                                        <img\n                                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_page_end.svg`}\n                                            onClick={() => {\n                                                elem.scroll({\n                                                    top:\n                                                        elem.scrollTop -\n                                                        elem.scrollHeight,\n                                                    behavior: 'smooth'\n                                                });\n                                            }}\n                                            alt=\"\"\n                                            className=\"cursor-pointer \"\n                                        />\n                                        <img\n                                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                                            onClick={() => {\n                                                elem.scroll({\n                                                    top: elem.scrollTop + 150,\n                                                    behavior: 'smooth'\n                                                });\n                                            }}\n                                            alt=\"\"\n                                            className=\"cursor-pointer \"\n                                        />\n                                        <img\n                                            onClick={() => {\n                                                elem.scroll({\n                                                    top: elem.scrollTop - 150,\n                                                    behavior: 'smooth'\n                                                });\n                                            }}\n                                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                                            alt=\"\"\n                                            className=\"inline-block transform rotate-180 cursor-pointer\"\n                                        />\n                                        <img\n                                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_page_end.svg`}\n                                            alt=\"\"\n                                            onClick={() => {\n                                                elem.scroll({\n                                                    top: elem.scrollHeight,\n                                                    behavior: 'smooth'\n                                                });\n                                            }}\n                                            className=\"inline-block transform rotate-180 cursor-pointer\"\n                                        />\n                                    </div>\n                                </>\n                            )}\n                            {!data?._source?.['all:items']?.[\n                                'bibframe:datasource'\n                            ] &&\n                            data?._source?.['all:items']?.[\n                                'bibframe:electroniclocator'\n                            ] ? (\n                                <IIIF\n                                    size=\"large\"\n                                    src={`${data?._source?.['all:items']?.['bibframe:electroniclocator']}`}\n                                />\n                            ) : (\n                                ''\n                            )}\n                        </div>\n                        <div\n                            className={`${\n                                data?._source?.['all:items']?.[\n                                    'bibframe:datasource'\n                                ] ||\n                                data?._source?.['all:items']?.[\n                                    'bibframe:electroniclocator'\n                                ]\n                                    ? 'md:col-span-5 pt-7 md:pl-14'\n                                    : 'md:col-span-12 pt-7'\n                            }`}\n                        >\n                            <p className=\"flex items-center uppercase md:text-xl \">\n                                ABOUT THIS RESOURCE{' '}\n                                <a\n                                    href=\"#!\"\n                                    onClick={(e) => {\n                                        e.preventDefault();\n                                        setShowModal(true);\n                                    }}\n                                    className=\"inline-block ml-3 text-xs underline capitalize text-green\"\n                                >\n                                    See Resource Details\n                                </a>\n                            </p>{' '}\n                            {showModal && (\n                                <MetaData\n                                    setShowModal={setShowModal}\n                                    data={data?._source}\n                                />\n                            )}\n                            {showDownload && (\n                                <Download\n                                    single={single}\n                                    showDownload={showDownload}\n                                    setShowDownload={setShowDownload}\n                                />\n                            )}\n                            <div className=\"flex items-center my-5 space-x-7\">\n                                <span\n                                    className=\"inline-block cursor-pointer\"\n                                    onClick={(e) => setShowDownload(true)}\n                                >\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/download.svg`}\n                                        alt=\"\"\n                                    />\n                                </span>\n                                <span\n                                    className=\"relative inline-block cursor-pointer group\"\n                                    onClick={copy}\n                                >\n                                    <div className=\"absolute p-1 px-2 text-xs text-white transition-all transform -translate-x-1/2 rounded opacity-0 left-1/2 bg-green text-12 -top-6 group-hover:opacity-100\">\n                                        {copyState}\n                                    </div>\n                                    <img\n                                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/link.svg`}\n                                        alt=\"\"\n                                    />\n                                </span>\n                            </div>\n                            <div className=\"grid grid-cols-2 gap-8\">\n                                <div>\n                                    <p className=\"text-sm text-gray-500 mb-2.5\">\n                                        Source Library\n                                    </p>\n                                    <p\n                                        className=\"text-base text-black \"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                data?._source?.[\n                                                    'bibframe:source'\n                                                ] || '--'\n                                        }}\n                                    />\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-gray-500 mb-2.5\">\n                                        Collection\n                                    </p>\n                                    <p\n                                        className=\"text-base text-black \"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                data?._source?.[\n                                                    'bibframe:collection@acip'\n                                                ] || '--'\n                                        }}\n                                    ></p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-gray-500 mb-2.5\">\n                                        Resource ID\n                                    </p>\n                                    <p\n                                        className=\"text-base text-black\"\n                                        dangerouslySetInnerHTML={{\n                                            __html: data?._id || '--'\n                                        }}\n                                    ></p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-gray-500 mb-2.5\">\n                                        Asset Type\n                                    </p>\n                                    <p\n                                        className=\"text-base text-black capitalize\"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                data?._source?.['all:items']?.[\n                                                    'all:assettype'\n                                                ] || '--'\n                                        }}\n                                    ></p>\n                                </div>{' '}\n                                <div>\n                                    <p className=\"text-sm text-gray-500 mb-2.5\">\n                                        Digital Rights\n                                    </p>\n                                    <p\n                                        className=\"text-base text-black capitalize\"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                data?._source?.['all:items']?.[\n                                                    'all:digitalrights'\n                                                ] || '--'\n                                        }}\n                                    ></p>\n                                </div>\n                            </div>\n                            {data?._source?.['all:items']?.[\n                                'bibframe:electroniclocator'\n                            ] &&\n                            data?._source?.['all:items']?.[\n                                'bibframe:datasource'\n                            ] ? (\n                                <>\n                                    <p className=\"mt-24 mb-5 text-lg uppercase\">\n                                        SCAN GALLERY VIEW\n                                    </p>\n                                    <div className=\"relative w-full bg-cover\">\n                                        <IIIF\n                                            src={`${data?._source?.['all:items']?.['bibframe:electroniclocator']}`}\n                                        />\n                                    </div>\n                                </>\n                            ) : (\n                                ''\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {data?._source?.['all:relatedworks'] && (\n                <RelatedResources\n                    relatedworks={data?._source?.['all:relatedworks']}\n                />\n            )}\n            {data?._source?.['bibframe:source'] && (\n                <AboutSourceLib lib={data?._source?.['bibframe:source']} />\n            )}\n        </>\n    );\n}\nexport default SingleResult;\n","import { useAPI } from '../../context/apiContext';\n\nconst Pagination = () => {\n    const { totalRecord, activePage, setActivePage, pageSize, isLoading } =\n        useAPI();\n    let totalPages = totalRecord / pageSize;\n    totalPages = new Array(Math.ceil(totalPages)).fill('');\n    let trimPagination;\n    if (totalPages.length > 10) {\n        trimPagination = true;\n    }\n\n    return (\n        <div className=\"py-10 border-t border-gray-300 border-solid mt-14\">\n            <div\n                className={`flex items-center justify-end ${\n                    isLoading ? 'opacity-50 pointer-events-none ' : ''\n                }`}\n            >\n                {/* <button\n                    onClick={(e) =>\n                        setActivePage(activePage !== 1 ? activePage - 1 : {})\n                    }\n                    className={`py-2.5 px-7 bg-gray-100 text-base hover:bg-gray-200 ${\n                        activePage === 1 ? 'pointer-events-none opacity-70' : ''\n                    }`}\n                >\n                    Previous\n                </button> */}\n                <div className=\"flex items-center justify-center pr-4 space-x-4\">\n                    {totalPages.map((item, index) => {\n                        if (trimPagination && index + 1 === activePage + 2) {\n                            return (\n                                <span\n                                    key={index}\n                                    className=\"inline-block text-black text-opacity-50 border-b-2 border-black border-opacity-0 px-0.5\"\n                                >\n                                    ...\n                                </span>\n                            );\n                        }\n                        if (\n                            (trimPagination && index + 1 === 1) ||\n                            (trimPagination &&\n                                index + 1 === totalPages.length) ||\n                            (trimPagination && index + 1 === activePage) ||\n                            (trimPagination && index + 1 === activePage - 1) ||\n                            (trimPagination && index + 1 === activePage + 1) ||\n                            !trimPagination\n                        ) {\n                            return (\n                                <>\n                                    <a\n                                        key={index}\n                                        onClick={(e) => {\n                                            e.preventDefault();\n                                            setActivePage(index + 1);\n                                        }}\n                                        href=\"#!\"\n                                        className={`inline-block text-black border-b-2 border-black px-0.5 ${\n                                            activePage === index + 1\n                                                ? 'text-opacity-100  border-solid border-opacity-100'\n                                                : 'text-opacity-50  border-solid border-opacity-0'\n                                        }`}\n                                    >\n                                        {index + 1}\n                                    </a>\n                                </>\n                            );\n                        }\n                        if (trimPagination && index + 1 === activePage - 2) {\n                            return (\n                                <span\n                                    key={index}\n                                    className=\"inline-block text-black text-opacity-50    border-b-2    border-black  border-solid border-opacity-0 px-0.5\"\n                                >\n                                    ...\n                                </span>\n                            );\n                        }\n                        return <></>;\n                    })}\n                </div>\n                <a\n                    href=\"#!\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        setActivePage(\n                            activePage !== totalPages.length\n                                ? activePage + 1\n                                : {}\n                        );\n                    }}\n                    className={` mr-4 inline-block ${\n                        activePage === totalPages.length\n                            ? 'pointer-events-none opacity-70'\n                            : ''\n                    }`}\n                >\n                    <img\n                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_arrow_forward.svg`}\n                        alt=\"\"\n                    />\n                </a>\n                <a\n                    href=\"#!\"\n                    onClick={(e) => {\n                        e.preventDefault();\n                        setActivePage(\n                            activePage !== totalPages.length\n                                ? totalPages.length\n                                : {}\n                        );\n                    }}\n                    className={` ${\n                        activePage === totalPages.length\n                            ? 'pointer-events-none opacity-70'\n                            : ''\n                    }`}\n                >\n                    <img\n                        src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_last_page.svg`}\n                        alt=\"\"\n                    />\n                </a>\n            </div>\n        </div>\n    );\n};\nexport default Pagination;\n","import { useState } from 'react';\nimport { useAPI } from '../../context/apiContext';\n\nconst Filters = () => {\n    const {\n        aggregations,\n        languageFilter,\n        setLanguageFilter,\n        assetsFilter,\n        setAssetsFilter,\n        isLoading,\n        setAuthorFilter,\n        authorFilter,\n        sourceFilter,\n        setSourceFilter,\n        setActivePage,\n        setCollectionFilter,\n        collectionFilter,\n        setCollectionRamachandraFilter,\n        collectionRamachandraFilter\n    } = useAPI();\n\n    const {\n        author,\n        assettype,\n        language,\n        source,\n        collection_acip = [],\n        collection_ramachandra = []\n    } = aggregations;\n\n    //Filter languages\n    function filterLanguage(slug) {\n        const index = languageFilter.indexOf(slug);\n\n        if (index === -1) {\n            setLanguageFilter([slug]);\n        } else {\n            setLanguageFilter([]);\n        }\n        setActivePage(1);\n    }\n\n    //Fitler assets\n    function filterAssets(slug) {\n        const index = assetsFilter.indexOf(slug);\n\n        if (index === -1) {\n            setAssetsFilter([...assetsFilter, slug]);\n        } else {\n            const copy = [...assetsFilter];\n            copy.splice(index, 1);\n            setAssetsFilter(copy);\n        }\n        setActivePage(1);\n    }\n    //Fitler author\n    function filterAuthor(slug) {\n        const index = authorFilter.indexOf(slug);\n\n        if (index === -1) {\n            setAuthorFilter([...authorFilter, slug]);\n        } else {\n            const copy = [...authorFilter];\n            copy.splice(index, 1);\n            setAuthorFilter(copy);\n        }\n        setActivePage(1);\n    }\n    //Fitler source\n    function filterSource(slug) {\n        const index = sourceFilter.indexOf(slug);\n\n        if (index === -1) {\n            setSourceFilter(slug);\n        } else {\n            setSourceFilter('');\n        }\n        setActivePage(1);\n    }\n    //Fitler Collections\n    function filterCollection(slug) {\n        const index = collectionFilter.indexOf(slug);\n\n        if (index === -1) {\n            setCollectionFilter(slug);\n        } else {\n            setCollectionFilter('');\n        }\n        setActivePage(1);\n    }\n    //Fitler Ramachandra\n    function filterCollectionRamachandra(slug) {\n        const index = collectionRamachandraFilter.indexOf(slug);\n\n        if (index === -1) {\n            setCollectionRamachandraFilter(slug);\n        } else {\n            setCollectionRamachandraFilter('');\n        }\n        setActivePage(1);\n    }\n    const [showFilter, setShowFilter] = useState(false);\n    const [showAssets, setShowAssets] = useState(true);\n    const [showLangugae, setShowLangugae] = useState(true);\n    const [showSourceLib, setShowSourceLib] = useState(true);\n    const [showCollection, setShowCollection] = useState(true);\n    const [showCollectionRamachandra, setShowCollectionRamachandra] =\n        useState(true);\n\n    const [ShowAuthor, setShowAuthor] = useState(true);\n    return (\n        <>\n            <button\n                type=\"button\"\n                className=\"inline-flex items-center md:hidden\"\n                onClick={(e) => setShowFilter(!showFilter)}\n            >\n                <img\n                    src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/filter.svg`}\n                    className=\"w-4 mr-2\"\n                    alt=\"\"\n                />{' '}\n                Filter\n            </button>\n\n            <div\n                className={`w-full md:block md:static fixed md:h-auto h-screen z-999999 md:z-0 left-0 top-0 overflow-auto max-w-260 bg-white   md:p-0 p-4 md:shadow-none shadow md:border-none bprder border-t border-gray-200 ${\n                    showFilter ? '' : 'hidden'\n                } ${isLoading ? 'md:opacity-60 pointer-events-none' : ''}`}\n            >\n                <div className=\"text-right md:hidden\">\n                    <button\n                        type=\"button\"\n                        className=\"inline-flex items-center text-sm md:hidden\"\n                        onClick={(e) => setShowFilter(!showFilter)}\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                            className=\"w-3 mr-2\"\n                            alt=\"\"\n                        />{' '}\n                        Close\n                    </button>\n                </div>\n                <div className=\"space-y-10\">\n                    <div>\n                        <h3 className=\"pl-0 mb-6 text-lg font-normal text-black\">\n                            FILTER BY:\n                        </h3>\n                        {assettype?.buckets?.length > 0 ? (\n                            <>\n                                <p\n                                    onClick={(e) => setShowAssets(!showAssets)}\n                                    className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                                >\n                                    Asset Types{' '}\n                                    <img\n                                        className=\"w-3 md:mr-20\"\n                                        src={\n                                            !showAssets\n                                                ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                                : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                        }\n                                        alt=\"\"\n                                    />\n                                </p>\n                                <div\n                                    className={`flex flex-col space-y-4 ${\n                                        !showAssets ? 'hidden' : ''\n                                    }`}\n                                >\n                                    {assettype?.buckets &&\n                                        assettype?.buckets.map(\n                                            (item, index) => (\n                                                <div\n                                                    className=\"flex items-center \"\n                                                    key={index}\n                                                >\n                                                    <input\n                                                        onChange={(e) => {\n                                                            filterAssets(\n                                                                `assettype:${item?.key}`\n                                                            );\n                                                        }}\n                                                        checked={\n                                                            assetsFilter.indexOf(\n                                                                `assettype:${item?.key}`\n                                                            ) !== -1\n                                                                ? true\n                                                                : false\n                                                        }\n                                                        value={`assettype:${item?.key}`}\n                                                        type=\"checkbox\"\n                                                        id={item?.key}\n                                                        className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                                    />\n                                                    <label\n                                                        htmlFor={item?.key}\n                                                        className=\"text-base text-gray-500 capitalize\"\n                                                    >\n                                                        {item?.key} (\n                                                        {Number(\n                                                            item?.doc_count\n                                                        ).toLocaleString()}\n                                                        )\n                                                    </label>\n                                                </div>\n                                            )\n                                        )}\n                                </div>\n                            </>\n                        ) : (\n                            ''\n                        )}\n                    </div>\n                    {language?.buckets?.length > 0 ? (\n                        <div>\n                            <p\n                                onClick={(e) => setShowLangugae(!showLangugae)}\n                                className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                            >\n                                Language{' '}\n                                <img\n                                    className=\"w-3 md:mr-20\"\n                                    src={\n                                        !showLangugae\n                                            ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                            : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                    }\n                                    alt=\"\"\n                                />\n                            </p>\n                            <div\n                                className={`flex flex-col space-y-4 ${\n                                    !showLangugae ? 'hidden' : ''\n                                }`}\n                            >\n                                {language &&\n                                    language?.buckets?.map((item, index) => (\n                                        <div\n                                            className=\"relative flex items-center group\"\n                                            key={index}\n                                        >\n                                            <input\n                                                onChange={(e) => {\n                                                    filterLanguage(\n                                                        `language:${item?.key}`\n                                                    );\n                                                }}\n                                                type=\"checkbox\"\n                                                id={item?.key}\n                                                name=\"language\"\n                                                value={`language:${item?.key}`}\n                                                checked={\n                                                    languageFilter.indexOf(\n                                                        `language:${item?.key}`\n                                                    ) !== -1\n                                                        ? true\n                                                        : false\n                                                }\n                                                className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                            />\n                                            <span className=\"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100\">\n                                                {item?.key}\n                                            </span>\n                                            <label\n                                                htmlFor={item?.key}\n                                                className=\"text-base text-gray-500\"\n                                            >\n                                                {item?.key.substring(0, 12)}\n                                                {item?.key.length > 12\n                                                    ? '...'\n                                                    : ''}{' '}\n                                                (\n                                                {Number(\n                                                    item?.doc_count\n                                                ).toLocaleString()}\n                                                )\n                                            </label>\n                                        </div>\n                                    ))}\n                            </div>\n                        </div>\n                    ) : (\n                        ''\n                    )}\n                    {source?.buckets?.length > 0 ? (\n                        <div>\n                            <p\n                                onClick={(e) =>\n                                    setShowSourceLib(!showSourceLib)\n                                }\n                                className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                            >\n                                Source Libraries{' '}\n                                <img\n                                    className=\"w-3 md:mr-20\"\n                                    src={\n                                        !showSourceLib\n                                            ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                            : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                    }\n                                    alt=\"\"\n                                />\n                            </p>\n                            <div\n                                className={`flex flex-col space-y-4 ${\n                                    !showSourceLib ? 'hidden' : ''\n                                }`}\n                            >\n                                {source &&\n                                    source?.buckets?.map((item, index) => (\n                                        <div\n                                            className=\"relative flex items-center group\"\n                                            key={index}\n                                        >\n                                            <input\n                                                onChange={(e) => {\n                                                    filterSource(\n                                                        `${item?.key}`\n                                                    );\n                                                }}\n                                                type=\"checkbox\"\n                                                id={item?.key}\n                                                name=\"source\"\n                                                value={`${item?.key}`}\n                                                checked={\n                                                    sourceFilter === item?.key\n                                                        ? true\n                                                        : false\n                                                }\n                                                className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                            />\n                                            <span className=\"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100\">\n                                                {item?.key}\n                                            </span>\n                                            <label\n                                                htmlFor={item?.key}\n                                                className=\"text-base text-gray-500\"\n                                            >\n                                                {item?.key.substring(0, 12)}\n                                                {item?.key.length > 12\n                                                    ? '...'\n                                                    : ''}{' '}\n                                                (\n                                                {Number(\n                                                    item?.doc_count\n                                                ).toLocaleString()}\n                                                )\n                                            </label>\n                                        </div>\n                                    ))}\n                            </div>\n                        </div>\n                    ) : (\n                        ''\n                    )}\n\n                    {collection_acip?.buckets?.length > 0 ? (\n                        <div>\n                            <p\n                                onClick={(e) =>\n                                    setShowCollection(!showCollection)\n                                }\n                                className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                            >\n                                Collections\n                                <img\n                                    className=\"w-3 md:mr-20\"\n                                    src={\n                                        !showCollection\n                                            ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                            : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                    }\n                                    alt=\"\"\n                                />\n                            </p>\n                            <div\n                                className={`flex flex-col space-y-4 ${\n                                    !showCollection ? 'hidden' : ''\n                                }`}\n                            >\n                                {collection_acip &&\n                                    collection_acip?.buckets?.map(\n                                        (item, index) => (\n                                            <div\n                                                className=\"relative flex items-center group\"\n                                                key={index}\n                                            >\n                                                <input\n                                                    onChange={(e) => {\n                                                        filterCollection(\n                                                            `${item?.key}`\n                                                        );\n                                                    }}\n                                                    type=\"checkbox\"\n                                                    id={item?.key}\n                                                    name=\"source\"\n                                                    value={`${item?.key}`}\n                                                    checked={\n                                                        collectionFilter ===\n                                                        item?.key\n                                                            ? true\n                                                            : false\n                                                    }\n                                                    className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                                />\n                                                <span className=\"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100\">\n                                                    {item?.key}\n                                                </span>\n                                                <label\n                                                    htmlFor={item?.key}\n                                                    className=\"text-base text-gray-500\"\n                                                >\n                                                    {item?.key.substring(0, 12)}\n                                                    {item?.key.length > 12\n                                                        ? '...'\n                                                        : ''}{' '}\n                                                    (\n                                                    {Number(\n                                                        item?.doc_count\n                                                    ).toLocaleString()}\n                                                    )\n                                                </label>\n                                            </div>\n                                        )\n                                    )}\n                            </div>\n                        </div>\n                    ) : (\n                        ''\n                    )}\n                    {collection_ramachandra?.buckets?.length > 0 ? (\n                        <div>\n                            <p\n                                onClick={(e) =>\n                                    setShowCollectionRamachandra(\n                                        !showCollectionRamachandra\n                                    )\n                                }\n                                className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                            >\n                                Collections Ramachandra\n                                <img\n                                    className=\"w-3 md:mr-20\"\n                                    src={\n                                        !showCollectionRamachandra\n                                            ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                            : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                    }\n                                    alt=\"\"\n                                />\n                            </p>\n                            <div\n                                className={`flex flex-col space-y-4 ${\n                                    !showCollectionRamachandra ? 'hidden' : ''\n                                }`}\n                            >\n                                {collection_ramachandra &&\n                                    collection_ramachandra?.buckets?.map(\n                                        (item, index) => (\n                                            <>\n                                                {item?.key && (\n                                                    <div\n                                                        className=\"relative flex items-center group\"\n                                                        key={index}\n                                                    >\n                                                        <input\n                                                            onChange={(e) => {\n                                                                filterCollectionRamachandra(\n                                                                    `${item?.key}`\n                                                                );\n                                                            }}\n                                                            type=\"checkbox\"\n                                                            id={item?.key}\n                                                            name=\"source\"\n                                                            value={`${item?.key}`}\n                                                            checked={\n                                                                collectionRamachandraFilter ===\n                                                                item?.key\n                                                                    ? true\n                                                                    : false\n                                                            }\n                                                            className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                                        />\n                                                        <span className=\"absolute z-10 w-auto max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none left-5 top-6 bg-green group-hover:opacity-100\">\n                                                            {item?.key}\n                                                        </span>\n                                                        <label\n                                                            htmlFor={item?.key}\n                                                            className=\"text-base text-gray-500\"\n                                                        >\n                                                            {item?.key\n                                                                ? item?.key.substring(\n                                                                      0,\n                                                                      12\n                                                                  )\n                                                                : '--'}\n                                                            {item?.key.length >\n                                                            12\n                                                                ? '...'\n                                                                : ''}{' '}\n                                                            (\n                                                            {Number(\n                                                                item?.doc_count\n                                                            ).toLocaleString()}\n                                                            )\n                                                        </label>\n                                                    </div>\n                                                )}\n                                            </>\n                                        )\n                                    )}\n                            </div>\n                        </div>\n                    ) : (\n                        ''\n                    )}\n                    {author?.buckets.length > 0 && (\n                        <div>\n                            <p\n                                onClick={(e) => setShowAuthor(!ShowAuthor)}\n                                className=\"flex items-center justify-between mb-5 text-sm text-gray-500 cursor-pointer\"\n                            >\n                                Author{' '}\n                                <img\n                                    className=\"w-3 md:mr-20\"\n                                    src={\n                                        !ShowAuthor\n                                            ? `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/plus.svg}`\n                                            : `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/minus.svg}`\n                                    }\n                                    alt=\"\"\n                                />\n                            </p>\n                            <div\n                                className={`flex flex-col space-y-4 ${\n                                    !ShowAuthor ? 'hidden' : ''\n                                }`}\n                            >\n                                {author?.buckets.map((item, index) => (\n                                    <div\n                                        className=\"relative flex items-center group\"\n                                        key={index}\n                                    >\n                                        <input\n                                            onChange={(e) => {\n                                                filterAuthor(item?.key);\n                                            }}\n                                            type=\"checkbox\"\n                                            id={item.key}\n                                            name=\"author\"\n                                            value={item?.key}\n                                            checked={\n                                                authorFilter.indexOf(\n                                                    item?.key\n                                                ) !== -1\n                                                    ? true\n                                                    : false\n                                            }\n                                            className=\"w-3 h-3 mr-3 text-black border-2 border-gray-400 border-solid form-checkbox\"\n                                        />{' '}\n                                        <span className=\"absolute left-0 z-10 w-48 max-w-full px-2 py-1 text-xs font-light text-white transform rounded opacity-0 pointer-events-none top-6 bg-green group-hover:opacity-100\">\n                                            {item?.key}\n                                        </span>\n                                        <label\n                                            htmlFor={item?.key}\n                                            className=\"relative block w-40 overflow-hidden text-sm text-gray-500 overflow-ellipsis whitespace-nowrap \"\n                                        >\n                                            {item?.key.substring(0, 12)}\n                                            {item?.key.length > 12\n                                                ? '...'\n                                                : ''}{' '}\n                                            (\n                                            {Number(\n                                                item?.doc_count\n                                            ).toLocaleString()}\n                                            )\n                                        </label>\n                                    </div>\n                                ))}\n                            </div>\n                        </div>\n                    )}\n                </div>\n                <h3 className=\"pl-0 mt-12 mb-2 text-base text-green\">\n                    HELP US IMPROVE\n                </h3>\n                <p className=\"mb-5 text-sm lg:pr-14 text-green\">\n                    If you have a suggestion to help us improve your search\n                    experience,{' '}\n                    <a\n                        className=\"underline\"\n                        href=\"mailto:librarian@asianlegacylibrary.org  \"\n                    >\n                        let us know.\n                    </a>\n                </p>\n            </div>\n        </>\n    );\n};\nexport default Filters;\n","// import { useState } from 'react';\n// import { Transition } from '@headlessui/react';\n// import angleIcon from '../../images/angle.svg';\nimport { useAPI } from '../../context/apiContext';\nimport DataNotFound from './dataNotFound';\nimport Collections from './collections';\nimport SearchItem from './searchItem';\nimport Pagination from './pagination';\nimport Filters from './filters';\nconst SearchResult = () => {\n    // const [showSorting, setShowSorting] = useState(false);\n    const {\n        data,\n        isLoading,\n        searchQuery,\n        totalRecord,\n        setSingle,\n\n        init,\n        authorFilter,\n        languageFilter,\n        assetsFilter\n    } = useAPI();\n    return (\n        <>\n            <div className=\"justify-center px-5 pt-5 mx-auto md:mt-10 md:pt-0 md:flex\">\n                {data.length > 0 ||\n                ((searchQuery ||\n                    authorFilter ||\n                    languageFilter ||\n                    assetsFilter) &&\n                    init) ? (\n                    <Filters />\n                ) : (\n                    ''\n                )}\n\n                <div className=\"w-full max-w-3xl lg:pr-12\">\n                    {data.length !== 0 && (\n                        <div className=\"mb-10 text-right\">\n                            <h5 className=\"text-xl font-normal text-right text-black -mt-7 whitespace-nowrap md:mt-0\">\n                                {Number(totalRecord).toLocaleString()}\n                                {totalRecord === 10000 ? '+' : ''} results\n                            </h5>\n                        </div>\n                    )}\n                    <div className=\"flex flex-col space-y-10\">\n                        {isLoading && <h5> Searching...</h5>}\n                        {data &&\n                            data.map((item, index) => (\n                                <SearchItem\n                                    key={index}\n                                    item={item}\n                                    index={index}\n                                    searchQuery={searchQuery}\n                                    setSingle={setSingle}\n                                />\n                            ))}\n                    </div>\n                    {data.length === 0 && !isLoading && init && (\n                        <DataNotFound />\n                    )}\n                    {totalRecord > 10 && data.length !== 0 ? (\n                        <Pagination />\n                    ) : (\n                        ''\n                    )}\n                </div>\n            </div>\n\n            {data.length === 0 && !init && <Collections />}\n        </>\n    );\n};\nexport default SearchResult;\n","import { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAPI } from '../../context/apiContext';\n\nconst Navigation = ({ iiifUrl, size }) => {\n    const { allResources, single } = useAPI();\n    const [current, setCurrent] = useState(0);\n\n    useEffect(() => {\n        setCurrent(allResources.indexOf(single));\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [single, allResources]);\n\n    return (\n        <>\n            <div className=\"p-2 mb-5 text-sm bg-gray-100 md:text-base \">\n                <div className=\"flex items-center justify-between mx-auto max-w-7xl\">\n                    <Link\n                        to={`/resource/${allResources[current - 1]}`}\n                        className={\n                            current === 0 ||\n                            allResources[current - 1] === undefined\n                                ? 'pointer-events-none opacity-60 flex items-center'\n                                : 'flex items-center'\n                        }\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                            className=\"inline-block w-3 mr-2 transform rotate-90\"\n                            alt=\"\"\n                        />\n                        Previous Resource\n                    </Link>\n                    <Link\n                        to={`/resource/${allResources[current + 1]}`}\n                        className={\n                            allResources.length === 1 ||\n                            current === allResources.length - 1\n                                ? 'pointer-events-none opacity-60 flex items-center'\n                                : 'flex items-center'\n                        }\n                    >\n                        Next Resource\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/ic_expand_more.svg`}\n                            className=\"inline-block w-3 ml-2 transform -rotate-90\"\n                            alt=\"\"\n                        />\n                    </Link>\n                </div>\n            </div>\n        </>\n    );\n};\nexport default Navigation;\n","import { useEffect } from 'react';\nimport { useAPI } from '../../context/apiContext';\nimport { Link } from 'react-router-dom';\n\nconst RelatedResources = ({ relatedworks = [] }) => {\n    const {\n        setIsLoading,\n        relatedResources,\n        setRelatedResources,\n        singleData,\n        single,\n        setSingle\n    } = useAPI();\n\n    useEffect(() => {\n        async function getResource(id) {\n            let url = `https://api.asianlegacylibrary.org/resources/${id}?include_data=true`;\n\n            const resp = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            const json = await resp.json();\n\n            setRelatedResources(json?.hits || []);\n\n            setIsLoading(false);\n        }\n        if (relatedworks.length && singleData.length > 0) {\n            relatedworks.map((item) =>\n                getResource(\n                    item?.['bibframe:translation@work']\n                        ?.replaceAll('<em>', '')\n                        ?.replaceAll('</em>', '') ||\n                        item?.['bibframe:translationof@work']\n                            ?.replaceAll('<em>', '')\n                            ?.replaceAll('</em>', '')\n                )\n            );\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [singleData, single]);\n\n    return (\n        <>\n            <div className=\"px-4 mx-auto mt-12 mb-5 max-w-7xl\">\n                <p className=\"uppercase md:text-xl mb-7\">RELATED RESOURCES</p>\n                <div className=\"grid gap-10 lg:grid-cols-3\">\n                    {relatedResources &&\n                        relatedResources.map((item, index) => (\n                            <Link\n                                to={`/resource/${item?._id}`}\n                                className=\"block cursor-pointer search-result-item group\"\n                                key={index}\n                                onClick={(e) => setSingle('')}\n                            >\n                                {item?._source['bibframe:person'] && (\n                                    <h5\n                                        className=\"text-sm\"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                item?._source?.[\n                                                    'bibframe:person'\n                                                ] || '--'\n                                        }}\n                                    />\n                                )}\n                                {item?._source?.['bibframe:maintitle'] && (\n                                    <p\n                                        className=\"block mb-1 text-xl leading-9 text-black hover:underline\"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                item?.highlight?.[\n                                                    'bibframe:maintitle'\n                                                ] ||\n                                                item?._source?.[\n                                                    'bibframe:maintitle'\n                                                ]\n                                        }}\n                                    />\n                                )}\n                                {item?._source?.[\n                                    'bibframe:varianttitle@colophon'\n                                ] && (\n                                    <p\n                                        className=\"mb-5 text-base leading-8 text-gray-500\"\n                                        dangerouslySetInnerHTML={{\n                                            __html:\n                                                item?.highlight?.[\n                                                    'bibframe:varianttitle@colophon'\n                                                ] ||\n                                                item?._source?.[\n                                                    'bibframe:varianttitle@colophon'\n                                                ]\n                                        }}\n                                    />\n                                )}\n                            </Link>\n                        ))}\n                </div>\n            </div>\n        </>\n    );\n};\nexport default RelatedResources;\n","import { useAPI } from '../../context/apiContext';\nconst AboutSourceLib = ({ lib }) => {\n    const { sourceLibraries } = useAPI();\n\n    return (\n        <>\n            <div className=\"px-4 mx-auto my-12 max-w-7xl\">\n                <p className=\"uppercase md:text-xl mb-7\">\n                    ABOUT THE {lib} SOURCE LIBRARY{' '}\n                </p>\n                <div className=\"grid gap-3 md:grid-cols-12 md:gap-7 \">\n                    <div className=\"md:col-span-4\">\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/about.png`}\n                            className=\"w-full\"\n                            alt=\"\"\n                        />\n                    </div>\n                    <div className=\"md:col-span-8\">\n                        <p className=\"text-base leading-7 text-gray-800\">\n                            {sourceLibraries.map(\n                                (item, index) =>\n                                    item?._source?.[\n                                        'bibframe:identifier@source'\n                                    ] === lib && (\n                                        <>\n                                            {item?._source?.[\n                                                'bibframe:note@description'\n                                            ] && (\n                                                <div\n                                                    className=\"mb-3\"\n                                                    dangerouslySetInnerHTML={{\n                                                        __html: item?._source?.[\n                                                            'bibframe:note@description'\n                                                        ]\n                                                    }}\n                                                />\n                                            )}\n                                            {item?._source?.[\n                                                'bibframe:note@notes'\n                                            ] && (\n                                                <div\n                                                    dangerouslySetInnerHTML={{\n                                                        __html: item?._source?.[\n                                                            'bibframe:note@notes'\n                                                        ]\n                                                    }}\n                                                />\n                                            )}\n                                        </>\n                                    )\n                            )}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\nexport default AboutSourceLib;\n","const MetaData = ({ setShowModal, data }) => {\n    return (\n        <>\n            <div className=\"fixed top-0 left-0 flex items-center justify-center w-screen h-screen p-10 z-999999 bg-green bg-opacity-60\">\n                <div className=\"relative w-full h-auto max-w-2xl max-h-full p-5 overflow-auto bg-white md:p-10\">\n                    <p className=\"text-xl mb-7\">RESOURCE DETAILS</p>\n                    <div\n                        className=\"absolute cursor-pointer right-6 top-6\"\n                        onClick={(e) => setShowModal(false)}\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                            alt=\"\"\n                            className=\"w-4\"\n                        />\n                    </div>\n                    <div className=\"\">\n                        {Object.keys(data).map(function (keyName, keyIndex) {\n                            return (\n                                <>\n                                    {typeof data[keyName] === 'string' &&\n                                    keyName !== 'bibframe:datasource' ? (\n                                        <div\n                                            key={keyIndex}\n                                            className=\"py-4 m-0 text-base break-words border-b border-gray-200\"\n                                        >\n                                            {keyName}:{' '}\n                                            <strong\n                                                dangerouslySetInnerHTML={{\n                                                    __html: data[keyName]\n                                                        ? data[keyName]\n                                                        : '--'\n                                                }}\n                                            ></strong>\n                                        </div>\n                                    ) : (\n                                        ''\n                                    )}\n\n                                    <div>\n                                        {typeof data[keyName] === 'object'\n                                            ? Object.keys(data[keyName]).map(\n                                                  function (item, index) {\n                                                      return (\n                                                          <>\n                                                              {item !==\n                                                                  'bibframe:datasource' &&\n                                                              typeof data[\n                                                                  keyName\n                                                              ][item] ===\n                                                                  'string' ? (\n                                                                  <p\n                                                                      key={\n                                                                          index\n                                                                      }\n                                                                      className=\"py-4 m-0 text-base break-words border-b border-gray-200\"\n                                                                  >\n                                                                      {item}:{' '}\n                                                                      <strong\n                                                                          dangerouslySetInnerHTML={{\n                                                                              __html: data[\n                                                                                  keyName\n                                                                              ][\n                                                                                  item\n                                                                              ]\n                                                                          }}\n                                                                      ></strong>\n                                                                  </p>\n                                                              ) : (\n                                                                  ''\n                                                              )}\n\n                                                              {item !==\n                                                                  'bibframe:datasource' &&\n                                                              typeof data[\n                                                                  keyName\n                                                              ][item] ===\n                                                                  'object'\n                                                                  ? Object.keys(\n                                                                        data[\n                                                                            keyName\n                                                                        ][item]\n                                                                    ).map(\n                                                                        function (\n                                                                            subitem,\n                                                                            subindex\n                                                                        ) {\n                                                                            return (\n                                                                                <>\n                                                                                    <p\n                                                                                        key={\n                                                                                            subindex\n                                                                                        }\n                                                                                        className=\"py-4 m-0 text-base break-words border-b border-gray-200\"\n                                                                                    >\n                                                                                        {\n                                                                                            subitem\n                                                                                        }\n\n                                                                                        :{' '}\n                                                                                        <strong\n                                                                                            dangerouslySetInnerHTML={{\n                                                                                                __html: data[\n                                                                                                    keyName\n                                                                                                ][\n                                                                                                    item\n                                                                                                ][\n                                                                                                    subitem\n                                                                                                ]\n                                                                                                    ? data[\n                                                                                                          keyName\n                                                                                                      ][\n                                                                                                          item\n                                                                                                      ][\n                                                                                                          subitem\n                                                                                                      ]\n                                                                                                    : '--'\n                                                                                            }}\n                                                                                        ></strong>\n                                                                                    </p>\n                                                                                </>\n                                                                            );\n                                                                        }\n                                                                    )\n                                                                  : ''}\n                                                          </>\n                                                      );\n                                                  }\n                                              )\n                                            : ''}\n                                    </div>\n                                </>\n                            );\n                        })}\n                        {/* <p className=\"py-4 text-base\">\n                            itemof@work:{' '}\n                            <strong>\n                                {data?.['all:items']?.[\n                                    'bibframe:itemof@work'\n                                ] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            approx-page-count:{' '}\n                            <strong>\n                                {data?.['all:items']?.[\n                                    'all:approx-page-count'\n                                ] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            assettype:{' '}\n                            <strong>\n                                {data?.['all:items']?.['all:assettype'] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            folios:{' '}\n                            <strong>\n                                {data?.['all:items']?.['all:folios'] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            Identifier:{' '}\n                            <strong>\n                                {data?.['all:items']?.[\n                                    'bibframe:identifier@item'\n                                ] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            haspart:{' '}\n                            <strong>\n                                {data?.['all:items']?.[\n                                    'bibframe:haspart@item'\n                                ] || '--'}\n                            </strong>\n                        </p>\n\n                        <p className=\"py-4 text-base\">\n                            identifier@work:{' '}\n                            <strong>\n                                {data?.['bibframe:identifier@work'] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            catalognumber:{' '}\n                            <strong>\n                                {data?.['bibframe:catalognumber'] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            catref:{' '}\n                            <strong>{data?.['bibframe:catref'] || '--'}</strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            collection:{' '}\n                            <strong>\n                                {data?.['bibframe:collection'] || '--'}\n                            </strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            source:{' '}\n                            <strong>{data?.['bibframe:source'] || '--'}</strong>\n                        </p>\n                        <p className=\"py-4 text-base\">\n                            varianttitle@colophon:{' '}\n                            <div className=\"mt-2 overflow-auto text-sm max-h-24\">\n                                {data?.['bibframe:varianttitle@colophon'] ||\n                                    '--'}\n                            </div>\n                        </p> */}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\nexport default MetaData;\n","import { useEffect, useState } from 'react';\n\nconst Download = ({ setShowDownload, single, showDownload }) => {\n    const [hasTxt, setHasTxt] = useState(false);\n    useEffect(() => {\n        async function getDownload() {\n            let url = `https://api.asianlegacylibrary.org/resources/download/${single}?format=txt&force_download=true`;\n\n            await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then((data) => {\n                    if (data.status === 200) {\n                        setHasTxt(true);\n                    }\n                })\n                .catch((error) => {\n                    setHasTxt(false);\n                });\n\n            // console.log(json);\n        }\n        if (showDownload) {\n            getDownload();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [showDownload]);\n    return (\n        <>\n            <div className=\"fixed top-0 left-0 flex items-center justify-center w-screen h-screen p-10 z-999999 bg-green bg-opacity-60\">\n                <div className=\"relative w-full h-auto max-w-md max-h-full p-10 overflow-auto bg-white\">\n                    <p className=\"text-xl mb-7\">SELECT DOWNLOAD FORMAT</p>\n                    <div\n                        className=\"absolute cursor-pointer right-6 top-6\"\n                        onClick={(e) => setShowDownload(false)}\n                    >\n                        <img\n                            src={`${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/library-plugin-images/close.svg`}\n                            alt=\"\"\n                            className=\"w-4\"\n                        />\n                    </div>\n                    <div className=\"divide-y divide-gray-200 \">\n                        <p className=\"m-0 \">\n                            <a\n                                target=\"_blank\"\n                                className=\"underline\"\n                                href={`https://api.asianlegacylibrary.org/resources/download/${single}?format=json&force_download=true`}\n                                rel=\"noreferrer\"\n                            >\n                                Download JSON\n                            </a>\n                        </p>\n                        {hasTxt && (\n                            <p className=\"py-3 m-0\">\n                                <a\n                                    target=\"_blank\"\n                                    className=\"underline\"\n                                    href={`https://api.asianlegacylibrary.org/resources/download/${single}?format=txt&force_download=true`}\n                                    rel=\"noreferrer\"\n                                >\n                                    Download TXT\n                                </a>\n                            </p>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\nexport default Download;\n","import { useState, useEffect } from 'react';\n\nconst IIIF = ({ src, size }) => {\n    const [status, setStatus] = useState(0);\n    useEffect(() => {\n        var myRequest = new Request(src);\n\n        fetch(myRequest).then(function (response) {\n            setStatus(response.status);\n        });\n    }, [src]);\n    return (\n        <>\n            {status === 200 ? (\n                <iframe\n                    title=\"Asian Legacy Library IIIF Viewer\"\n                    width=\"100%\"\n                    height={`${size === 'large' ? '750px' : '500px'}`}\n                    src={\n                        `${process.env.REACT_APP_DOMAIN}wp-content/plugins/asian-legacy-library-plugin/uv-assets/dist/all-uv.html?manifest=` +\n                        src\n                    }\n                />\n            ) : (\n                <div className=\"p-10 text-center text-white bg-black bg-opacity-90\">\n                    <p className=\"text-xl\">\n                        Scans still being processed. <br />\n                        Please email{' '}\n                        <a\n                            href=\"mailto:librarian@asianlegacylibrary.org\"\n                            className=\"text-white underline\"\n                        >\n                            librarian@asianlegacylibrary.org\n                        </a>{' '}\n                        for status\n                    </p>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default IIIF;\n","import Search from '../Search';\nimport { Switch, Route } from 'react-router-dom';\nimport SearchResult from '../SearchResult';\nimport SingleResult from '../SingleResult';\nimport { useEffect } from 'react';\n// import { useAPI } from '../../context/apiContext';\nconst Main = () => (\n    <>\n        <Search />\n        <SearchResult />\n    </>\n);\n\nfunction Result() {\n    useEffect(() => {\n        document.querySelector('body').classList.add('lib-plugin-page');\n    }, []);\n    return (\n        <Switch>\n            <Route exact path=\"/\" component={Main} />\n            <Route path=\"/resource/:id\" component={SingleResult} />\n        </Switch>\n    );\n    // if (single) {\n    //     return <SingleResult />;\n    // } else {\n    //     return (\n    //         <>\n    //             <Search />\n    //             <SearchResult />\n    //         </>\n    //     );\n    // }\n}\n\nexport default Result;\n","// import Search from './components/Search';\n// import SearchResult from './components/SearchResult';\n// import SingleResult from './components/SingleResult';\nimport Result from './components/Result';\nimport APIContextProvider from './context/apiContext';\nimport './output.css';\n\nfunction App() {\n    // const search = window.location.search;\n    // const params = new URLSearchParams(search);\n    // const view = params.get('view');\n    // if (view === 'single') {\n    //     return (\n    //         <APIContextProvider>\n    //             <div className=\"asian-legacy-library-app-root\">\n    //                 <SingleResult />\n    //             </div>\n    //         </APIContextProvider>\n    //     );\n    // } else {\n    //     return (\n    //         <APIContextProvider>\n    //             <div className=\"asian-legacy-library-app-root\">\n    //                 <Search />\n    //                 <SearchResult />\n    //             </div>\n    //         </APIContextProvider>\n    //     );\n    // }\n    return (\n        <APIContextProvider>\n            <Result />\n        </APIContextProvider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\nReactDOM.render(\n    <HashRouter>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </HashRouter>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}